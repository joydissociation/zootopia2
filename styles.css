/* ç‰ˆæœ¬åˆ‡æ¢å™¨ */
.version-switcher {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 9999;
    background: rgba(255,255,255,0.95);
    border: 3px solid #32CD32;
    border-radius: 15px;
    padding: 12px;
    box-shadow: 0 8px 16px rgba(0,0,0,0.1);
    backdrop-filter: blur(10px);
    font-family: 'Courier New', monospace;
}

.version-switcher h4 {
    margin: 0 0 8px 0;
    font-size: 10px;
    color: #228B22;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-align: center;
}

.version-buttons {
    display: flex;
    gap: 6px;
}

.version-btn {
    padding: 6px 10px;
    border: 2px solid;
    border-radius: 8px;
    cursor: pointer;
    font-size: 9px;
    font-weight: bold;
    text-transform: uppercase;
    transition: all 0.2s ease;
    background: white;
    font-family: 'Courier New', monospace;
    min-width: 60px;
    text-align: center;
}

.version-btn.desktop {
    border-color: #32CD32;
    color: #228B22;
}

.version-btn.desktop:hover,
.version-btn.desktop.active {
    background: #32CD32;
    color: white;
    transform: translateY(-2px);
}

.version-btn.mobile {
    border-color: #FF69B4;
    color: #C71585;
}

.version-btn.mobile:hover,
.version-btn.mobile.active {
    background: #FF69B4;
    color: white;
    transform: translateY(-2px);
}

/* çš®è‚¤åˆ‡æ¢å™¨ */
.theme-switcher {
    position: fixed;
    top: 20px;
    left: 20px;
    z-index: 9999;
    background: rgba(255,255,255,0.95);
    border: 3px solid #FFB6C1;
    border-radius: 15px;
    padding: 15px;
    box-shadow: 0 8px 16px rgba(0,0,0,0.1);
    backdrop-filter: blur(10px);
    font-family: 'Courier New', monospace;
}

.theme-switcher h4 {
    margin: 0 0 10px 0;
    font-size: 12px;
    color: #8B4513;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-align: center;
}

.theme-buttons {
    display: flex;
    gap: 8px;
    flex-direction: column;
}

.theme-btn {
    padding: 8px 12px;
    border: 2px solid;
    border-radius: 8px;
    cursor: pointer;
    font-size: 10px;
    font-weight: bold;
    text-transform: uppercase;
    transition: all 0.2s ease;
    background: white;
    font-family: 'Courier New', monospace;
    min-width: 120px;
    text-align: center;
}

.theme-btn.cute {
    border-color: #FFB6C1;
    color: #8B4513;
}

.theme-btn.cute:hover,
.theme-btn.cute.active {
    background: #FFB6C1;
    color: white;
    transform: translateY(-2px);
}

.theme-btn.retro {
    border-color: #FF6B35;
    color: #8B0000;
}

.theme-btn.retro:hover,
.theme-btn.retro.active {
    background: #FF6B35;
    color: white;
    transform: translateY(-2px);
}

.theme-btn.animal-crossing {
    border-color: #4CAF50;
    color: #2E7D32;
}

.theme-btn.animal-crossing:hover,
.theme-btn.animal-crossing.active {
    background: #4CAF50;
    color: white;
    transform: translateY(-2px);
}

/* åŸºç¡€æ ·å¼é‡ç½® */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* ===== å¤©æ°”äº’åŠ¨èƒŒæ™¯æ•ˆæœ ===== */

/* æ™´å¤©æ•ˆæœ - é˜³å…‰å’Œå…‰çº¿ */
body.weather-sunny::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(circle at 20% 20%, rgba(255,215,0,0.3) 2px, transparent 2px),
        radial-gradient(circle at 80% 30%, rgba(255,165,0,0.2) 3px, transparent 3px),
        radial-gradient(circle at 60% 70%, rgba(255,255,0,0.25) 2px, transparent 2px),
        radial-gradient(circle at 30% 80%, rgba(255,140,0,0.2) 1px, transparent 1px);
    background-size: 100px 100px, 150px 150px, 80px 80px, 120px 120px;
    animation: sunnySparkle 8s ease-in-out infinite;
    pointer-events: none;
    z-index: -1;
}

@keyframes sunnySparkle {
    0%, 100% { 
        opacity: 0.6;
        transform: translateX(0) translateY(0);
    }
    25% { 
        opacity: 0.8;
        transform: translateX(20px) translateY(-10px);
    }
    50% { 
        opacity: 1;
        transform: translateX(10px) translateY(-20px);
    }
    75% { 
        opacity: 0.7;
        transform: translateX(-10px) translateY(-15px);
    }
}

/* å¤šäº‘æ•ˆæœ - äº‘æœµé£˜åŠ¨ */
body.weather-cloudy::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="30" fill="rgba(255,255,255,0.4)">â˜ï¸</text></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="25" fill="rgba(255,255,255,0.3)">â˜ï¸</text></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="35" fill="rgba(255,255,255,0.2)">â˜ï¸</text></svg>');
    background-size: 200px 200px, 150px 150px, 250px 250px;
    background-position: 0% 20%, 70% 40%, 30% 60%;
    animation: cloudyDrift 20s linear infinite;
    pointer-events: none;
    z-index: -1;
}

@keyframes cloudyDrift {
    0% { 
        background-position: -10% 20%, 60% 40%, 20% 60%;
    }
    100% { 
        background-position: 110% 20%, 170% 40%, 130% 60%;
    }
}

/* é›¨å¤©æ•ˆæœ - é›¨æ»´ä¸‹è½ */
body.weather-rainy::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        linear-gradient(transparent 0%, transparent 5%, rgba(173,216,230,0.6) 5%, rgba(173,216,230,0.6) 10%, transparent 10%),
        linear-gradient(transparent 0%, transparent 15%, rgba(135,206,235,0.4) 15%, rgba(135,206,235,0.4) 20%, transparent 20%),
        linear-gradient(transparent 0%, transparent 25%, rgba(176,196,222,0.5) 25%, rgba(176,196,222,0.5) 30%, transparent 30%);
    background-size: 3px 100px, 2px 80px, 4px 120px;
    background-position: 10px 0, 30px 0, 50px 0;
    animation: rainyFall 1.5s linear infinite;
    pointer-events: none;
    z-index: -1;
}

@keyframes rainyFall {
    0% { 
        background-position: 10px -100px, 30px -80px, 50px -120px;
    }
    100% { 
        background-position: 10px 100vh, 30px 100vh, 50px 100vh;
    }
}

/* æš´é£é›¨æ•ˆæœ - é—ªç”µå’Œå¼ºé›¨ */
body.weather-stormy::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        linear-gradient(transparent 0%, transparent 3%, rgba(75,0,130,0.3) 3%, rgba(75,0,130,0.3) 6%, transparent 6%),
        linear-gradient(transparent 0%, transparent 12%, rgba(138,43,226,0.2) 12%, rgba(138,43,226,0.2) 15%, transparent 15%),
        linear-gradient(transparent 0%, transparent 20%, rgba(72,61,139,0.4) 20%, rgba(72,61,139,0.4) 23%, transparent 23%);
    background-size: 2px 80px, 3px 100px, 1px 60px;
    background-position: 15px 0, 35px 0, 55px 0;
    animation: stormyRain 1s linear infinite, stormyFlash 4s ease-in-out infinite;
    pointer-events: none;
    z-index: -1;
}

@keyframes stormyRain {
    0% { 
        background-position: 15px -80px, 35px -100px, 55px -60px;
    }
    100% { 
        background-position: 15px 100vh, 35px 100vh, 55px 100vh;
    }
}

@keyframes stormyFlash {
    0%, 90%, 100% { 
        box-shadow: inset 0 0 0 0 rgba(255,255,255,0);
    }
    5%, 15% { 
        box-shadow: inset 0 0 100px 20px rgba(255,255,255,0.1);
    }
}

/* å¤©æ°”åˆ‡æ¢æ—¶çš„è¿‡æ¸¡æ•ˆæœ */
body {
    transition: all 0.8s ease-in-out;
}

/* ä¸ºä¸åŒä¸»é¢˜çš„å¤©æ°”æ•ˆæœåšé€‚é… */

/* å¤å¤æ³¢æ™®é£æ ¼çš„å¤©æ°”æ•ˆæœ */
.theme-retro.weather-sunny::after {
    background-image: 
        radial-gradient(circle at 25% 25%, rgba(255,107,53,0.4) 3px, transparent 3px),
        radial-gradient(circle at 75% 35%, rgba(255,210,63,0.3) 4px, transparent 4px),
        radial-gradient(circle at 50% 75%, rgba(6,255,165,0.2) 2px, transparent 2px);
    animation: retroSunny 6s ease-in-out infinite;
}

@keyframes retroSunny {
    0%, 100% { 
        filter: hue-rotate(0deg) brightness(1);
    }
    50% { 
        filter: hue-rotate(30deg) brightness(1.2);
    }
}

.theme-retro.weather-rainy::after {
    background-image: 
        linear-gradient(transparent 0%, transparent 5%, rgba(255,107,53,0.6) 5%, rgba(255,107,53,0.6) 8%, transparent 8%),
        linear-gradient(transparent 0%, transparent 15%, rgba(6,255,165,0.4) 15%, rgba(6,255,165,0.4) 18%, transparent 18%);
    background-size: 4px 120px, 3px 100px;
    animation: retroRain 1.2s linear infinite;
}

@keyframes retroRain {
    0% { 
        background-position: 20px -120px, 40px -100px;
        filter: hue-rotate(0deg);
    }
    100% { 
        background-position: 20px 100vh, 40px 100vh;
        filter: hue-rotate(60deg);
    }
}

/* åŠ¨ç‰©æ£®å‹ä¼šé£æ ¼çš„å¤©æ°”æ•ˆæœ */
.theme-animal-crossing.weather-sunny::after {
    background-image: 
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="20" fill="rgba(255,215,0,0.4)">âœ¨</text></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="16" fill="rgba(255,165,0,0.3)">ğŸŒŸ</text></svg>');
    background-size: 80px 80px, 60px 60px;
    animation: acSunny 10s ease-in-out infinite;
}

@keyframes acSunny {
    0%, 100% { 
        background-position: 0% 0%, 50% 50%;
        opacity: 0.7;
    }
    50% { 
        background-position: 30% 30%, 80% 20%;
        opacity: 1;
    }
}

.theme-animal-crossing.weather-cloudy::after {
    background-image: 
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="25" fill="rgba(255,255,255,0.5)">â˜ï¸</text></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="15" fill="rgba(135,206,235,0.3)">ğŸ’¨</text></svg>');
    background-size: 150px 150px, 100px 100px;
    animation: acCloudy 15s linear infinite;
}

@keyframes acCloudy {
    0% { 
        background-position: -20% 30%, 80% 60%;
    }
    100% { 
        background-position: 120% 30%, 200% 60%;
    }
}

/* å¤©æ°”é€šçŸ¥åŠ¨ç”» */
@keyframes weatherNotificationAppear {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.8);
    }
    20% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.1);
    }
    30% {
        transform: translate(-50%, -50%) scale(1);
    }
    90% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.9);
    }
}

@keyframes weatherNotificationDisappear {
    0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.8);
    }
}

@keyframes weatherIconBounce {
    0%, 100% {
        transform: scale(1) rotate(0deg);
    }
    25% {
        transform: scale(1.1) rotate(5deg);
    }
    50% {
        transform: scale(1.2) rotate(0deg);
    }
    75% {
        transform: scale(1.1) rotate(-5deg);
    }
}

/* ===== çš®è‚¤1: å¯çˆ±æ¢¦å¹»é£æ ¼ (é»˜è®¤) ===== */
body {
    font-family: 'Courier New', 'Monaco', monospace;
    background: linear-gradient(135deg, 
        #FFE5F1 0%, 
        #E5F3FF 25%, 
        #F0FFF0 50%, 
        #FFF8DC 75%, 
        #FFE5CC 100%);
    background-size: 400% 400%;
    animation: dreamyGradient 20s ease infinite;
    min-height: 100vh;
    color: #2F4F4F;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    position: relative;
    overflow-x: hidden;
}

/* ===== çš®è‚¤2: å¤å¤æ³¢æ™®æ€€æ—§åƒç´ é£æ ¼ ===== */
body.theme-retro {
    background: linear-gradient(45deg, 
        #FF6B35 0%, 
        #F7931E 25%, 
        #FFD23F 50%, 
        #06FFA5 75%, 
        #B19CD9 100%);
    background-size: 200% 200%;
    animation: retroWave 8s ease infinite;
    color: #2C1810;
}

@keyframes retroWave {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

body.theme-retro::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(0,0,0,0.1) 2px,
            rgba(0,0,0,0.1) 4px
        ),
        repeating-linear-gradient(
            90deg,
            transparent,
            transparent 2px,
            rgba(0,0,0,0.1) 2px,
            rgba(0,0,0,0.1) 4px
        );
    pointer-events: none;
    z-index: -2;
    animation: scanlines 0.1s linear infinite;
}

@keyframes scanlines {
    0% { transform: translateY(0px); }
    100% { transform: translateY(4px); }
}

body.theme-retro::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="20" fill="rgba(255,107,53,0.3)">ğŸ•¹ï¸</text></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="16" fill="rgba(255,210,63,0.25)">ğŸ“¼</text></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="18" fill="rgba(6,255,165,0.2)">ğŸ’¾</text></svg>');
    background-size: 300px 300px, 200px 200px, 250px 250px;
    background-position: 10% 10%, 70% 30%, 30% 80%;
    animation: retroFloat 15s ease-in-out infinite;
    pointer-events: none;
    z-index: -1;
}

@keyframes retroFloat {
    0%, 100% { 
        background-position: 10% 10%, 70% 30%, 30% 80%;
        opacity: 0.6;
    }
    50% { 
        background-position: 30% 30%, 50% 50%, 70% 60%;
        opacity: 0.8;
    }
}

/* ===== çš®è‚¤3: åŠ¨ç‰©æ£®å‹ä¼šé£æ ¼ ===== */
body.theme-animal-crossing {
    background: linear-gradient(135deg, 
        #87CEEB 0%, 
        #98FB98 30%, 
        #F0E68C 60%, 
        #FFB6C1 100%);
    background-size: 400% 400%;
    animation: acGradient 15s ease infinite;
    color: #2F4F4F;
}

@keyframes acGradient {
    0% { background-position: 0% 50%; }
    25% { background-position: 100% 50%; }
    50% { background-position: 100% 100%; }
    75% { background-position: 0% 100%; }
    100% { background-position: 0% 50%; }
}

body.theme-animal-crossing::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(circle at 20% 20%, rgba(255,255,255,0.2) 4px, transparent 4px),
        radial-gradient(circle at 80% 80%, rgba(255,255,255,0.15) 3px, transparent 3px),
        radial-gradient(circle at 40% 60%, rgba(255,255,255,0.1) 2px, transparent 2px);
    background-size: 80px 80px, 60px 60px, 40px 40px;
    animation: acDots 25s linear infinite;
    pointer-events: none;
    z-index: -2;
}

@keyframes acDots {
    0% { transform: translateX(0) translateY(0); }
    25% { transform: translateX(-20px) translateY(-10px); }
    50% { transform: translateX(-10px) translateY(-20px); }
    75% { transform: translateX(10px) translateY(-10px); }
    100% { transform: translateX(0) translateY(0); }
}

body.theme-animal-crossing::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="24" fill="rgba(255,255,255,0.15)">ğŸƒ</text></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="20" fill="rgba(255,255,255,0.12)">ğŸŒ¸</text></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="18" fill="rgba(255,255,255,0.1)">ğŸ¦‹</text></svg>');
    background-size: 250px 250px, 180px 180px, 200px 200px;
    background-position: 0% 0%, 60% 40%, 30% 70%;
    animation: acNature 30s ease-in-out infinite;
    pointer-events: none;
    z-index: -1;
}

@keyframes acNature {
    0%, 100% { 
        background-position: 0% 0%, 60% 40%, 30% 70%;
        opacity: 0.4;
    }
    33% { 
        background-position: 30% 20%, 80% 60%, 50% 90%;
        opacity: 0.6;
    }
    66% { 
        background-position: 70% 60%, 20% 80%, 80% 50%;
        opacity: 0.5;
    }
}

/* æ¢¦å¹»æ¸å˜åŠ¨ç”» */
@keyframes dreamyGradient {
    0% { background-position: 0% 50%; }
    25% { background-position: 100% 50%; }
    50% { background-position: 100% 100%; }
    75% { background-position: 0% 100%; }
    100% { background-position: 0% 50%; }
}

/* å¯çˆ±çš„æµ®åŠ¨è£…é¥°å±‚ */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(circle at 15% 25%, rgba(255,182,193,0.3) 8px, transparent 8px),
        radial-gradient(circle at 85% 15%, rgba(173,216,230,0.25) 6px, transparent 6px),
        radial-gradient(circle at 25% 75%, rgba(255,255,224,0.2) 4px, transparent 4px),
        radial-gradient(circle at 75% 85%, rgba(255,228,225,0.3) 5px, transparent 5px),
        radial-gradient(circle at 45% 35%, rgba(240,255,240,0.2) 3px, transparent 3px);
    background-size: 120px 120px, 80px 80px, 60px 60px, 100px 100px, 40px 40px;
    animation: gentleFloat 25s linear infinite;
    pointer-events: none;
    z-index: -2;
}

@keyframes gentleFloat {
    0% { transform: translateX(0) translateY(0) rotate(0deg); }
    25% { transform: translateX(-15px) translateY(-8px) rotate(90deg); }
    50% { transform: translateX(-8px) translateY(-15px) rotate(180deg); }
    75% { transform: translateX(8px) translateY(-8px) rotate(270deg); }
    100% { transform: translateX(0) translateY(0) rotate(360deg); }
}

/* å¯çˆ±çš„emojiè£…é¥° */
body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="16" fill="rgba(255,182,193,0.4)">ğŸŒ¸</text></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="14" fill="rgba(173,216,230,0.3)">ğŸ¦‹</text></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="12" fill="rgba(255,255,224,0.35)">âœ¨</text></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="15" fill="rgba(255,228,225,0.3)">ğŸŒ¿</text></svg>'),
        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="13" fill="rgba(240,255,240,0.25)">ğŸ’«</text></svg>');
    background-size: 250px 250px, 180px 180px, 120px 120px, 200px 200px, 150px 150px;
    background-position: 0% 0%, 60% 40%, 30% 70%, 80% 20%, 20% 90%;
    animation: magicalFloat 30s ease-in-out infinite;
    pointer-events: none;
    z-index: -1;
}

@keyframes magicalFloat {
    0%, 100% { 
        background-position: 0% 0%, 60% 40%, 30% 70%, 80% 20%, 20% 90%;
        opacity: 0.6;
    }
    25% { 
        background-position: 20% 30%, 80% 60%, 50% 90%, 60% 40%, 40% 70%;
        opacity: 0.8;
    }
    50% { 
        background-position: 40% 60%, 40% 80%, 70% 50%, 40% 60%, 60% 50%;
        opacity: 0.7;
    }
    75% { 
        background-position: 60% 30%, 20% 60%, 90% 30%, 20% 80%, 80% 30%;
        opacity: 0.9;
    }
}

#app {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    min-height: 100vh;
    position: relative;
}

/* å¯çˆ±çš„åº”ç”¨è£…é¥° */
#app::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(circle at 10% 10%, rgba(255,192,203,0.15) 3px, transparent 3px),
        radial-gradient(circle at 90% 90%, rgba(173,216,230,0.12) 2px, transparent 2px),
        radial-gradient(circle at 50% 20%, rgba(255,255,224,0.1) 1px, transparent 1px);
    background-size: 80px 80px, 60px 60px, 40px 40px;
    pointer-events: none;
    z-index: -1;
    animation: sparklePattern 15s ease-in-out infinite;
}

@keyframes sparklePattern {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.6; }
}

/* ä¸»å¯¼èˆªæ ·å¼ - å¯çˆ±é£æ ¼ (é»˜è®¤) */
.main-nav {
    display: flex;
    justify-content: center;
    background: linear-gradient(145deg, #FFF0F5, #F0F8FF);
    border: 4px solid #FFB6C1;
    border-radius: 25px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 
        0 8px 16px rgba(255,182,193,0.3),
        inset 0 2px 4px rgba(255,255,255,0.8),
        0 0 20px rgba(255,182,193,0.2);
    position: relative;
    backdrop-filter: blur(10px);
}

/* å¤å¤æ³¢æ™®é£æ ¼å¯¼èˆª */
.theme-retro .main-nav {
    background: linear-gradient(145deg, #FF6B35, #F7931E);
    border: 4px solid #8B0000;
    border-radius: 0;
    box-shadow: 
        4px 4px 0px #8B0000,
        8px 8px 0px rgba(0,0,0,0.5);
    backdrop-filter: none;
}

.theme-retro .main-nav::before {
    content: 'ğŸ•¹ï¸';
    font-size: 28px;
    animation: retroPulse 1s ease-in-out infinite alternate;
}

.theme-retro .main-nav::after {
    content: 'ğŸ•¹ï¸';
    font-size: 28px;
    animation: retroPulse 1s ease-in-out infinite alternate-reverse;
}

@keyframes retroPulse {
    0% { transform: scale(1); filter: hue-rotate(0deg); }
    100% { transform: scale(1.2); filter: hue-rotate(180deg); }
}

/* åŠ¨ç‰©æ£®å‹ä¼šé£æ ¼å¯¼èˆª */
.theme-animal-crossing .main-nav {
    background: #FFFACD;
    border: 4px solid #8B4513;
    border-radius: 0;
    box-shadow: 
        4px 4px 0px #654321,
        8px 8px 0px rgba(0,0,0,0.2);
    backdrop-filter: none;
}

.theme-animal-crossing .main-nav::before {
    content: 'ğŸŒŸ';
    font-size: 24px;
    animation: acTwinkle 2s ease-in-out infinite alternate;
}

.theme-animal-crossing .main-nav::after {
    content: 'ğŸŒŸ';
    font-size: 24px;
    animation: acTwinkle 2s ease-in-out infinite alternate-reverse;
}

@keyframes acTwinkle {
    0% { transform: scale(1) rotate(0deg); }
    100% { transform: scale(1.2) rotate(180deg); }
}

.main-nav::before {
    content: 'ğŸŒŸ';
    position: absolute;
    top: -15px;
    left: 20px;
    font-size: 24px;
    animation: gentleTwinkle 3s ease-in-out infinite alternate;
    filter: drop-shadow(0 0 8px rgba(255,215,0,0.6));
}

.main-nav::after {
    content: 'ğŸŒŸ';
    position: absolute;
    top: -15px;
    right: 20px;
    font-size: 24px;
    animation: gentleTwinkle 3s ease-in-out infinite alternate-reverse;
    filter: drop-shadow(0 0 8px rgba(255,215,0,0.6));
}

@keyframes gentleTwinkle {
    0% { 
        transform: scale(1) rotate(0deg);
        opacity: 0.7;
    }
    100% { 
        transform: scale(1.3) rotate(180deg);
        opacity: 1;
    }
}

.nav-tab {
    background: linear-gradient(145deg, #FFE4E1, #F0F8FF);
    border: 3px solid #DDA0DD;
    border-radius: 20px;
    padding: 15px 25px;
    margin: 0 10px;
    cursor: pointer;
    font-size: 14px;
    font-weight: bold;
    font-family: 'Courier New', monospace;
    color: #8B4513;
    position: relative;
    outline: none;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 
        0 4px 8px rgba(221,160,221,0.3),
        inset 0 1px 2px rgba(255,255,255,0.8);
}

/* å¤å¤æ³¢æ™®é£æ ¼æ ‡ç­¾ */
.theme-retro .nav-tab {
    background: #FFD23F;
    border: 3px solid #8B0000;
    border-radius: 0;
    color: #8B0000;
    box-shadow: 
        2px 2px 0px #8B0000,
        4px 4px 0px rgba(0,0,0,0.3);
    text-shadow: 1px 1px 0px rgba(255,255,255,0.5);
}

.theme-retro .nav-tab:hover {
    background: #06FFA5;
    border-color: #004D40;
    color: #004D40;
    transform: translateY(-2px);
    box-shadow: 
        3px 5px 0px #004D40,
        6px 10px 0px rgba(0,0,0,0.3);
}

.theme-retro .nav-tab.active {
    background: #B19CD9;
    border-color: #4A148C;
    color: #4A148C;
    transform: translateY(-3px);
    box-shadow: 
        4px 6px 0px #4A148C,
        8px 12px 0px rgba(0,0,0,0.4);
    animation: retroGlow 1s ease-in-out infinite alternate;
}

@keyframes retroGlow {
    0% { filter: brightness(1); }
    100% { filter: brightness(1.2) saturate(1.3); }
}

/* åŠ¨ç‰©æ£®å‹ä¼šé£æ ¼æ ‡ç­¾ */
.theme-animal-crossing .nav-tab {
    background: #FFE4B5;
    border: 3px solid #DEB887;
    border-radius: 0;
    color: #8B4513;
    box-shadow: 
        2px 2px 0px #B8860B,
        4px 4px 0px rgba(0,0,0,0.2);
}

.theme-animal-crossing .nav-tab:hover {
    background: #F0E68C;
    border-color: #DAA520;
    transform: translateY(-2px);
    box-shadow: 
        3px 4px 0px #B8860B,
        6px 8px 0px rgba(0,0,0,0.2);
}

.theme-animal-crossing .nav-tab.active {
    background: #32CD32;
    border-color: #228B22;
    color: white;
    transform: translateY(-3px);
    box-shadow: 
        4px 6px 0px #006400,
        8px 12px 0px rgba(0,0,0,0.3);
}

.theme-animal-crossing .nav-tab.active:hover {
    background: #00FF00;
    transform: translateY(-4px);
}

.nav-tab:hover {
    background: linear-gradient(145deg, #FFB6C1, #E6E6FA);
    border-color: #DA70D6;
    transform: translateY(-3px) scale(1.05);
    box-shadow: 
        0 8px 16px rgba(218,112,214,0.4),
        inset 0 2px 4px rgba(255,255,255,0.9),
        0 0 15px rgba(218,112,214,0.3);
}

.nav-tab:focus {
    box-shadow: 
        0 0 0 4px rgba(255,182,193,0.5),
        0 4px 8px rgba(221,160,221,0.3),
        inset 0 1px 2px rgba(255,255,255,0.8);
}

.nav-tab.active {
    background: linear-gradient(145deg, #98FB98, #90EE90);
    border-color: #32CD32;
    color: #006400;
    transform: translateY(-4px) scale(1.08);
    box-shadow: 
        0 12px 24px rgba(50,205,50,0.4),
        inset 0 2px 4px rgba(255,255,255,0.9),
        0 0 20px rgba(50,205,50,0.3);
    animation: activeTabGlow 2s ease-in-out infinite alternate;
}

.nav-tab.active:hover {
    background: linear-gradient(145deg, #90EE90, #98FB98);
    transform: translateY(-5px) scale(1.1);
}

@keyframes activeTabGlow {
    0% {
        box-shadow: 
            0 12px 24px rgba(50,205,50,0.4),
            inset 0 2px 4px rgba(255,255,255,0.9),
            0 0 20px rgba(50,205,50,0.3);
    }
    100% {
        box-shadow: 
            0 12px 24px rgba(50,205,50,0.6),
            inset 0 2px 4px rgba(255,255,255,0.9),
            0 0 30px rgba(50,205,50,0.5);
    }
}

/* æ·»åŠ é¡µé¢æ ‡é¢˜æ ·å¼ */
h2 {
    font-family: 'Courier New', monospace;
    color: #8B4513;
    text-transform: uppercase;
    letter-spacing: 3px;
    font-weight: bold;
    text-align: center;
    margin-bottom: 30px;
    font-size: 20px;
    position: relative;
    text-shadow: 2px 2px 4px rgba(139,69,19,0.3);
}

h2::before {
    content: 'ğŸ¯';
    margin-right: 15px;
    font-size: 24px;
    animation: gentleBounce 2s ease-in-out infinite;
    filter: drop-shadow(0 0 8px rgba(255,215,0,0.6));
}

h2::after {
    content: 'ğŸ¯';
    margin-left: 15px;
    font-size: 24px;
    animation: gentleBounce 2s ease-in-out infinite reverse;
    filter: drop-shadow(0 0 8px rgba(255,215,0,0.6));
}

@keyframes gentleBounce {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-5px) scale(1.1); }
}

/* ä¸»å†…å®¹åŒºåŸŸ - å¯çˆ±é£æ ¼ (é»˜è®¤) */
.main-content {
    background: linear-gradient(145deg, 
        rgba(255,250,250,0.95), 
        rgba(240,248,255,0.95));
    border: 4px solid #FFB6C1;
    border-radius: 25px;
    padding: 30px;
    box-shadow: 
        0 15px 35px rgba(255,182,193,0.3),
        inset 0 2px 4px rgba(255,255,255,0.8),
        0 0 25px rgba(255,182,193,0.2);
    min-height: 500px;
    position: relative;
    backdrop-filter: blur(10px);
}

/* å¤å¤æ³¢æ™®é£æ ¼ä¸»å†…å®¹ */
.theme-retro .main-content {
    background: rgba(255,210,63,0.9);
    border: 4px solid #8B0000;
    border-radius: 0;
    box-shadow: 
        6px 6px 0px #8B0000,
        12px 12px 0px rgba(0,0,0,0.4);
    backdrop-filter: none;
}

.theme-retro .main-content::before {
    content: '';
    position: absolute;
    top: 10px;
    left: 10px;
    right: 10px;
    bottom: 10px;
    border: 3px dashed #8B0000;
    pointer-events: none;
    background: repeating-linear-gradient(
        45deg,
        transparent,
        transparent 10px,
        rgba(139,0,0,0.1) 10px,
        rgba(139,0,0,0.1) 20px
    );
}

/* åŠ¨ç‰©æ£®å‹ä¼šé£æ ¼ä¸»å†…å®¹ */
.theme-animal-crossing .main-content {
    background: #F5F5DC;
    border: 4px solid #8B4513;
    border-radius: 0;
    box-shadow: 
        6px 6px 0px #654321,
        12px 12px 0px rgba(0,0,0,0.1);
    backdrop-filter: none;
}

.theme-animal-crossing .main-content::before {
    content: '';
    position: absolute;
    top: 10px;
    left: 10px;
    right: 10px;
    bottom: 10px;
    border: 2px dashed #DEB887;
    pointer-events: none;
}

.main-content::before {
    content: '';
    position: absolute;
    top: 15px;
    left: 15px;
    right: 15px;
    bottom: 15px;
    border: 2px dashed rgba(255,182,193,0.4);
    border-radius: 20px;
    pointer-events: none;
    background: linear-gradient(45deg, 
        transparent 48%, 
        rgba(255,182,193,0.1) 49%, 
        rgba(255,182,193,0.1) 51%, 
        transparent 52%);
    background-size: 20px 20px;
    animation: gentleShimmer 4s ease-in-out infinite;
}

@keyframes gentleShimmer {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.6; }
}

.tab-content {
    display: none;
    opacity: 0;
    transform: translateY(15px);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.tab-content.active {
    display: block;
    opacity: 1;
    transform: translateY(0);
    animation: cuteSlideIn 0.6s ease-out;
}

@keyframes cuteSlideIn {
    0% { 
        opacity: 0; 
        transform: translateY(30px) scale(0.95);
        filter: blur(2px);
    }
    100% { 
        opacity: 1; 
        transform: translateY(0) scale(1);
        filter: blur(0);
    }
}

/* å¿ƒæƒ…è¾“å…¥å’Œåˆ†ææ ·å¼ - æ›´å¯çˆ±çš„è®¾è®¡ */
.mood-input-section {
    margin-bottom: 25px;
    padding: 20px;
    background: linear-gradient(145deg, 
        rgba(255,240,245,0.9), 
        rgba(240,248,255,0.9));
    border: 3px solid #FFB6C1;
    border-radius: 20px;
    box-shadow: 
        0 8px 16px rgba(255,182,193,0.2),
        inset 0 2px 4px rgba(255,255,255,0.8);
    position: relative;
    backdrop-filter: blur(5px);
}

.mood-input-section::before {
    content: 'ğŸ’­';
    position: absolute;
    top: -12px;
    left: 20px;
    font-size: 24px;
    background: linear-gradient(145deg, #FFD700, #FFA500);
    border: 3px solid #FF8C00;
    border-radius: 50%;
    padding: 8px;
    box-shadow: 0 4px 8px rgba(255,140,0,0.3);
    animation: thoughtBubble 3s ease-in-out infinite;
}

@keyframes thoughtBubble {
    0%, 100% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.1) rotate(5deg); }
}

.mood-input-container {
    display: flex;
    gap: 15px;
    margin-bottom: 15px;
}

#mood-description {
    flex: 1;
    padding: 15px;
    border: 3px solid #DDA0DD;
    border-radius: 15px;
    font-family: 'Courier New', monospace;
    background: linear-gradient(145deg, #FFF8FF, #F0F8FF);
    font-size: 14px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 
        inset 0 2px 4px rgba(221,160,221,0.2),
        0 2px 4px rgba(221,160,221,0.1);
}

#mood-description:focus {
    outline: none;
    border-color: #DA70D6;
    background: linear-gradient(145deg, #FFF0FF, #F8F8FF);
    box-shadow: 
        0 0 0 3px rgba(218,112,214,0.3),
        inset 0 2px 4px rgba(218,112,214,0.2),
        0 4px 8px rgba(218,112,214,0.2);
    transform: scale(1.02);
}

#analyze-mood-btn {
    background: linear-gradient(145deg, #FF69B4, #FF1493);
    border: 3px solid #DC143C;
    border-radius: 15px;
    padding: 15px 25px;
    color: white;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 14px;
    cursor: pointer;
    text-transform: uppercase;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 
        0 4px 8px rgba(255,20,147,0.3),
        inset 0 1px 2px rgba(255,255,255,0.3);
    position: relative;
    overflow: hidden;
}

#analyze-mood-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255,255,255,0.3), 
        transparent);
    transition: left 0.5s ease;
}

#analyze-mood-btn:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 
        0 8px 16px rgba(255,20,147,0.4),
        inset 0 2px 4px rgba(255,255,255,0.4);
}

#analyze-mood-btn:hover::before {
    left: 100%;
}

#analyze-mood-btn:disabled {
    cursor: not-allowed;
    opacity: 0.7;
    transform: none;
}

#analyze-mood-btn.analyzing {
    animation: cuteAnalyzing 1.5s ease-in-out infinite;
}

@keyframes cuteAnalyzing {
    0%, 100% {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 
            0 8px 16px rgba(255,20,147,0.4),
            inset 0 2px 4px rgba(255,255,255,0.4);
    }
    50% {
        transform: translateY(-3px) scale(1.08);
        box-shadow: 
            0 12px 24px rgba(255,20,147,0.5),
            inset 0 2px 4px rgba(255,255,255,0.4),
            0 0 20px rgba(255,105,180,0.4);
    }
}

.mood-analysis-result {
    background: linear-gradient(135deg, #E6E6FA, #F0F8FF);
    border: 3px solid #9370DB;
    padding: 15px;
    text-align: center;
    box-shadow: 3px 3px 0px #8A2BE2;
    animation: moodResultAppear 0.5s ease-out;
}

.mood-weather-display {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    margin-bottom: 10px;
}

.mood-weather-icon {
    font-size: 48px;
    filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));
}

.mood-weather-info {
    text-align: left;
}

.mood-weather-type {
    font-size: 18px;
    font-weight: bold;
    color: #4B0082;
    font-family: 'Courier New', monospace;
    margin-bottom: 5px;
}

.mood-temperature {
    font-size: 24px;
    font-weight: bold;
    color: #FF6347;
    font-family: 'Courier New', monospace;
    margin-bottom: 5px;
}

.mood-description-text {
    font-size: 12px;
    color: #4682B4;
    font-family: 'Courier New', monospace;
    font-style: italic;
}

.mood-suggestion {
    margin-top: 10px;
    padding: 10px;
    background: rgba(255,255,255,0.7);
    border: 1px dashed #9370DB;
    font-size: 12px;
    color: #4B0082;
    font-family: 'Courier New', monospace;
    line-height: 1.4;
}

@keyframes moodResultAppear {
    0% {
        opacity: 0;
        transform: translateY(-20px) scale(0.9);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes moodResultDisappear {
    0% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    100% {
        opacity: 0;
        transform: translateY(-10px) scale(0.95);
    }
}

.mood-analysis-footer {
    margin-top: 15px;
    padding: 8px;
    background: rgba(255,255,255,0.5);
    border: 1px dashed #9370DB;
    font-size: 11px;
    color: #666;
    font-family: 'Courier New', monospace;
    font-style: italic;
    text-align: center;
}

/* å¡”ç½—ç‰Œæ”¶é›†æ¨¡å¼æ ·å¼ */
.tarot-collection-mode .tarot-card {
    border-color: #9370DB;
    box-shadow: 
        0 0 30px rgba(147, 112, 219, 0.5),
        inset 0 0 20px rgba(147, 112, 219, 0.2);
}

.tarot-collection-badge {
    background: linear-gradient(145deg, #9370DB, #8A2BE2);
    color: white;
    padding: 4px 12px;
    font-size: 10px;
    font-weight: bold;
    text-transform: uppercase;
    border-radius: 15px;
    margin-top: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

/* å›¾é‰´æŸ¥çœ‹å¡”ç½—ç‰ŒæŒ‰é’® */
.view-tarot-btn {
    background: linear-gradient(145deg, #9370DB, #8A2BE2);
    border: 2px solid #9370DB;
    color: white;
    padding: 6px 12px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 10px;
    text-transform: uppercase;
    cursor: pointer;
    margin-top: 8px;
    transition: all 0.2s ease;
    border-radius: 0;
}

.view-tarot-btn:hover {
    background: linear-gradient(145deg, #BA55D3, #9370DB);
    transform: translateY(-1px);
    box-shadow: 1px 3px 0px #8A2BE2;
}
/* å¤©æ°”é€‰æ‹©å™¨ - å¯çˆ±é£æ ¼ (é»˜è®¤) */
.weather-selector {
    text-align: center;
    margin-bottom: 30px;
    background: linear-gradient(145deg, 
        rgba(255,250,240,0.9), 
        rgba(240,255,255,0.9));
    border: 3px solid #DDA0DD;
    border-radius: 25px;
    padding: 25px;
    position: relative;
    box-shadow: 
        0 10px 20px rgba(221,160,221,0.2),
        inset 0 2px 4px rgba(255,255,255,0.8);
    backdrop-filter: blur(5px);
}

/* å¤å¤æ³¢æ™®é£æ ¼å¤©æ°”é€‰æ‹©å™¨ */
.theme-retro .weather-selector {
    background: linear-gradient(145deg, #06FFA5, #B19CD9);
    border: 4px solid #8B0000;
    border-radius: 0;
    box-shadow: 
        4px 4px 0px #8B0000,
        8px 8px 0px rgba(0,0,0,0.4);
    backdrop-filter: none;
}

.theme-retro .weather-selector::before {
    content: 'ğŸ“¼';
    font-size: 32px;
    animation: retroSpin 2s linear infinite;
}

.theme-retro .weather-selector::after {
    content: 'ğŸ’¾';
    font-size: 32px;
    animation: retroSpin 2s linear infinite reverse;
}

@keyframes retroSpin {
    0% { transform: rotate(0deg) scale(1); }
    50% { transform: rotate(180deg) scale(1.1); }
    100% { transform: rotate(360deg) scale(1); }
}

/* åŠ¨ç‰©æ£®å‹ä¼šé£æ ¼å¤©æ°”é€‰æ‹©å™¨ */
.theme-animal-crossing .weather-selector {
    background: #FFFAF0;
    border: 3px solid #CD853F;
    border-radius: 0;
    padding: 20px;
    box-shadow: 
        3px 3px 0px #B8860B,
        6px 6px 0px rgba(0,0,0,0.2);
    backdrop-filter: none;
}

.theme-animal-crossing .weather-selector::before {
    content: 'â˜ï¸';
    font-size: 24px;
    animation: acFloat 3s ease-in-out infinite;
}

.theme-animal-crossing .weather-selector::after {
    content: 'ğŸŒˆ';
    font-size: 24px;
    animation: acFloat 3s ease-in-out infinite reverse;
}

@keyframes acFloat {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
}

.weather-selector::before {
    content: 'â˜ï¸';
    position: absolute;
    top: -15px;
    left: 25px;
    font-size: 28px;
    animation: cloudFloat 4s ease-in-out infinite;
    filter: drop-shadow(0 0 8px rgba(173,216,230,0.6));
}

.weather-selector::after {
    content: 'ğŸŒˆ';
    position: absolute;
    top: -15px;
    right: 25px;
    font-size: 28px;
    animation: rainbowShine 4s ease-in-out infinite reverse;
    filter: drop-shadow(0 0 8px rgba(255,182,193,0.6));
}

@keyframes cloudFloat {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-8px) rotate(5deg); }
}

@keyframes rainbowShine {
    0%, 100% { transform: translateY(0px) scale(1); }
    50% { transform: translateY(-5px) scale(1.1); }
}

.weather-selector h3 {
    margin-bottom: 20px;
    color: #8B4513;
    font-size: 18px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 2px 2px 4px rgba(139,69,19,0.2);
    position: relative;
}

.weather-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
}

/* å¤©æ°”æŒ‰é’® - å¯çˆ±é£æ ¼ (é»˜è®¤) */
.weather-btn {
    background: linear-gradient(145deg, #FFE4E1, #FFF0F5);
    border: 3px solid #FFB6C1;
    border-radius: 20px;
    padding: 15px 20px;
    color: #8B008B;
    font-size: 14px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    text-transform: uppercase;
    position: relative;
    box-shadow: 
        0 4px 8px rgba(255,182,193,0.2),
        inset 0 1px 2px rgba(255,255,255,0.8);
    overflow: hidden;
}

/* å¤å¤æ³¢æ™®é£æ ¼å¤©æ°”æŒ‰é’® */
.theme-retro .weather-btn {
    background: #FFD23F;
    border: 3px solid #8B0000;
    border-radius: 0;
    color: #8B0000;
    box-shadow: 
        2px 2px 0px #8B0000,
        4px 4px 0px rgba(0,0,0,0.3);
    text-shadow: 1px 1px 0px rgba(255,255,255,0.5);
    font-weight: 900;
}

.theme-retro .weather-btn:hover {
    background: #06FFA5;
    border-color: #004D40;
    color: #004D40;
    transform: translateY(-2px);
    box-shadow: 
        3px 5px 0px #004D40,
        6px 10px 0px rgba(0,0,0,0.4);
}

.theme-retro .weather-btn.selected {
    background: #B19CD9;
    border-color: #4A148C;
    color: #4A148C;
    transform: translateY(-3px);
    box-shadow: 
        4px 6px 0px #4A148C,
        8px 12px 0px rgba(0,0,0,0.4);
    animation: retroSelected 0.5s ease-in-out infinite alternate;
}

@keyframes retroSelected {
    0% { filter: brightness(1) saturate(1); }
    100% { filter: brightness(1.2) saturate(1.5); }
}

.theme-retro .weather-btn.analyzed-weather {
    background: #FF6B35;
    border-color: #8B0000;
    color: white;
    animation: retroAnalyzed 1s ease-in-out;
    text-shadow: 2px 2px 0px rgba(0,0,0,0.5);
}

@keyframes retroAnalyzed {
    0%, 100% { transform: translateY(-3px) scale(1); }
    25% { transform: translateY(-3px) scale(1.1) rotate(2deg); }
    50% { transform: translateY(-3px) scale(1.2) rotate(-2deg); }
    75% { transform: translateY(-3px) scale(1.1) rotate(1deg); }
}

/* åŠ¨ç‰©æ£®å‹ä¼šé£æ ¼å¤©æ°”æŒ‰é’® */
.theme-animal-crossing .weather-btn {
    background: #FFE4E1;
    border: 3px solid #FF69B4;
    border-radius: 0;
    padding: 10px 16px;
    color: #8B008B;
    box-shadow: 
        2px 2px 0px #FF1493,
        4px 4px 0px rgba(0,0,0,0.2);
}

.theme-animal-crossing .weather-btn:hover {
    background: #FFB6C1;
    transform: translateY(-3px);
    box-shadow: 
        3px 6px 0px #FF1493,
        6px 12px 0px rgba(0,0,0,0.2);
}

.theme-animal-crossing .weather-btn.selected {
    background: #98FB98;
    border-color: #32CD32;
    color: #006400;
    transform: translateY(-3px);
    box-shadow: 
        3px 6px 0px #228B22,
        6px 12px 0px rgba(0,0,0,0.2);
}

.theme-animal-crossing .weather-btn.analyzed-weather {
    background: #FFD700;
    border-color: #FFA500;
    color: #8B4513;
    transform: translateY(-3px);
    box-shadow: 
        3px 6px 0px #FF8C00,
        6px 12px 0px rgba(0,0,0,0.2);
    animation: acAnalyzed 2s ease-in-out;
}

@keyframes acAnalyzed {
    0%, 100% { box-shadow: 3px 6px 0px #FF8C00, 6px 12px 0px rgba(0,0,0,0.2); }
    50% { box-shadow: 3px 6px 0px #FF8C00, 6px 12px 0px rgba(0,0,0,0.2), 0 0 15px #FFD700; }
}

.weather-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255,255,255,0.4), 
        transparent);
    transition: left 0.6s ease;
}

.weather-btn:hover {
    background: linear-gradient(145deg, #FFB6C1, #FFE4E1);
    border-color: #FF69B4;
    transform: translateY(-4px) scale(1.05);
    box-shadow: 
        0 8px 16px rgba(255,105,180,0.3),
        inset 0 2px 4px rgba(255,255,255,0.9),
        0 0 15px rgba(255,105,180,0.2);
}

.weather-btn:hover::before {
    left: 100%;
}

/* é€‰ä¸­çŠ¶æ€ - ç”¨æˆ·ç‚¹å‡»æˆ–åˆ†æç»“æœ */
.weather-btn.selected {
    background: linear-gradient(145deg, #98FB98, #90EE90);
    border-color: #32CD32;
    color: #006400;
    transform: translateY(-4px) scale(1.08);
    box-shadow: 
        0 10px 20px rgba(50,205,50,0.4),
        inset 0 2px 4px rgba(255,255,255,0.9),
        0 0 20px rgba(50,205,50,0.3);
    animation: selectedGlow 2s ease-in-out infinite alternate;
}

.weather-btn.selected:hover {
    background: linear-gradient(145deg, #90EE90, #98FB98);
    transform: translateY(-5px) scale(1.1);
    box-shadow: 
        0 12px 24px rgba(50,205,50,0.5),
        inset 0 2px 4px rgba(255,255,255,0.9),
        0 0 25px rgba(50,205,50,0.4);
}

@keyframes selectedGlow {
    0% {
        box-shadow: 
            0 10px 20px rgba(50,205,50,0.4),
            inset 0 2px 4px rgba(255,255,255,0.9),
            0 0 20px rgba(50,205,50,0.3);
    }
    100% {
        box-shadow: 
            0 10px 20px rgba(50,205,50,0.6),
            inset 0 2px 4px rgba(255,255,255,0.9),
            0 0 30px rgba(50,205,50,0.5);
    }
}

/* åˆ†æç»“æœé«˜äº®åŠ¨ç”» */
.weather-btn.analyzed-weather {
    background: linear-gradient(145deg, #FFD700, #FFA500);
    border-color: #FF8C00;
    color: #8B4513;
    transform: translateY(-4px) scale(1.08);
    box-shadow: 
        0 10px 20px rgba(255,140,0,0.4),
        inset 0 2px 4px rgba(255,255,255,0.9),
        0 0 20px rgba(255,215,0,0.5);
    animation: analyzedWeatherPulse 2s ease-in-out;
}

/* åˆ†æç»“æœé€‰ä¸­åçš„æœ€ç»ˆçŠ¶æ€ */
.weather-btn.selected.analyzed-weather {
    background: linear-gradient(145deg, #98FB98, #90EE90);
    border-color: #32CD32;
    color: #006400;
    animation: analyzedToSelected 2s ease-in-out;
}

@keyframes analyzedWeatherPulse {
    0%, 100% {
        box-shadow: 
            0 10px 20px rgba(255,140,0,0.4),
            inset 0 2px 4px rgba(255,255,255,0.9),
            0 0 20px rgba(255,215,0,0.5);
    }
    25% {
        transform: translateY(-4px) scale(1.12);
        box-shadow: 
            0 12px 24px rgba(255,140,0,0.5),
            inset 0 2px 4px rgba(255,255,255,0.9),
            0 0 30px rgba(255,215,0,0.6);
    }
    50% {
        transform: translateY(-5px) scale(1.15);
        box-shadow: 
            0 15px 30px rgba(255,140,0,0.6),
            inset 0 2px 4px rgba(255,255,255,0.9),
            0 0 40px rgba(255,215,0,0.7);
    }
    75% {
        transform: translateY(-4px) scale(1.12);
        box-shadow: 
            0 12px 24px rgba(255,140,0,0.5),
            inset 0 2px 4px rgba(255,255,255,0.9),
            0 0 30px rgba(255,215,0,0.6);
    }
}

@keyframes analyzedToSelected {
    0% {
        background: linear-gradient(145deg, #FFD700, #FFA500);
        border-color: #FF8C00;
        color: #8B4513;
    }
    100% {
        background: linear-gradient(145deg, #98FB98, #90EE90);
        border-color: #32CD32;
        color: #006400;
    }
}

/* åˆ†æç»“æœé€‰ä¸­åçš„æœ€ç»ˆçŠ¶æ€ */
.weather-btn.selected.analyzed-weather {
    background: #98FB98;
    border-color: #32CD32;
    color: #006400;
    animation: analyzedWeatherPulse 2s ease-in-out;
}

@keyframes analyzedWeatherPulse {
    0%, 100% {
        box-shadow: 3px 6px 0px #228B22;
    }
    25% {
        box-shadow: 3px 6px 0px #228B22, 0 0 15px #32CD32;
        transform: translateY(-3px) scale(1.05);
    }
    50% {
        box-shadow: 3px 6px 0px #228B22, 0 0 20px #32CD32, 0 0 30px #32CD32;
        transform: translateY(-4px) scale(1.1);
    }
    75% {
        box-shadow: 3px 6px 0px #228B22, 0 0 15px #32CD32;
        transform: translateY(-3px) scale(1.05);
    }
}

/* æˆåŠŸå¼¹å‡ºåŠ¨ç”» */
@keyframes successPopup {
    0% {
        opacity: 0;
        transform: translateX(-50%) translateY(20px) scale(0.8);
    }
    20% {
        opacity: 1;
        transform: translateX(-50%) translateY(-10px) scale(1.1);
    }
    30% {
        transform: translateX(-50%) translateY(-5px) scale(1);
    }
    90% {
        opacity: 1;
        transform: translateX(-50%) translateY(-5px) scale(1);
    }
    100% {
        opacity: 0;
        transform: translateX(-50%) translateY(-20px) scale(0.9);
    }
}

.weather-analysis-success .success-icon {
    font-size: 20px;
    margin-bottom: 5px;
    animation: successIconBounce 0.8s ease-in-out infinite alternate;
}

.weather-analysis-success .success-text {
    font-size: 10px;
    margin-bottom: 3px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.weather-analysis-success .success-weather {
    font-size: 12px;
    font-weight: bold;
    text-transform: uppercase;
}

@keyframes successIconBounce {
    0% { transform: scale(1) rotate(0deg); }
    100% { transform: scale(1.2) rotate(10deg); }
}

/* é€šç”¨åŠ¨ç”»æ•ˆæœ */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideOutRight {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(100%);
    }
}

/* å¯çˆ±çš„åŠ è½½åŠ¨ç”» */
@keyframes cuteLoading {
    0% { transform: rotate(0deg) scale(1); }
    25% { transform: rotate(90deg) scale(1.1); }
    50% { transform: rotate(180deg) scale(1); }
    75% { transform: rotate(270deg) scale(1.1); }
    100% { transform: rotate(360deg) scale(1); }
}

/* å¿ƒè·³åŠ¨ç”» */
@keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

/* æ‘‡æ‘†åŠ¨ç”» */
@keyframes gentleWiggle {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(2deg); }
    75% { transform: rotate(-2deg); }
}

/* åŠ¨ç‰©å®¹å™¨æ ·å¼ - å¯çˆ±é£æ ¼ (é»˜è®¤) */
.animals-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
    margin-bottom: 30px;
}

.animal-card {
    background: linear-gradient(145deg, 
        rgba(240,248,255,0.95), 
        rgba(255,250,250,0.95));
    border: 4px solid #DDA0DD;
    border-radius: 25px;
    padding: 25px;
    text-align: center;
    box-shadow: 
        0 12px 24px rgba(221,160,221,0.2),
        inset 0 2px 4px rgba(255,255,255,0.8),
        0 0 20px rgba(221,160,221,0.1);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    backdrop-filter: blur(5px);
    overflow: hidden;
}

/* å¤å¤æ³¢æ™®é£æ ¼åŠ¨ç‰©å¡ç‰‡ */
.theme-retro .animal-card {
    background: linear-gradient(145deg, #FFD23F, #06FFA5);
    border: 4px solid #8B0000;
    border-radius: 0;
    box-shadow: 
        4px 4px 0px #8B0000,
        8px 8px 0px rgba(0,0,0,0.4);
    backdrop-filter: none;
}

.theme-retro .animal-card::before {
    content: 'âš¡';
    position: absolute;
    top: -12px;
    right: -12px;
    font-size: 28px;
    animation: retroZap 1s ease-in-out infinite alternate;
    filter: drop-shadow(0 0 8px rgba(255,255,0,0.8));
}

@keyframes retroZap {
    0% { transform: scale(1) rotate(0deg); }
    100% { transform: scale(1.3) rotate(15deg); }
}

.theme-retro .animal-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 
        6px 8px 0px #8B0000,
        12px 16px 0px rgba(0,0,0,0.5);
    filter: brightness(1.1) saturate(1.2);
}

.theme-retro .animal-info h4 {
    color: #8B0000;
    text-shadow: 2px 2px 0px rgba(255,255,255,0.8);
    font-size: 20px;
}

.theme-retro .growth-stage {
    background: linear-gradient(145deg, #B19CD9, #FF6B35);
    color: white;
    border-color: #8B0000;
    text-shadow: 1px 1px 0px rgba(0,0,0,0.5);
}

.theme-retro .task-count {
    background: linear-gradient(145deg, #06FFA5, #B19CD9);
    color: #8B0000;
    border-color: #004D40;
    text-shadow: 1px 1px 0px rgba(255,255,255,0.8);
}

.theme-retro .gentle-tip {
    background: rgba(255,255,255,0.9);
    color: #8B0000;
    border-color: #8B0000;
    border-style: solid;
    font-weight: bold;
}

/* åŠ¨ç‰©æ£®å‹ä¼šé£æ ¼åŠ¨ç‰©å¡ç‰‡ */
.theme-animal-crossing .animal-card {
    background: #F0F8FF;
    border: 4px solid #4169E1;
    border-radius: 0;
    box-shadow: 
        4px 4px 0px #1E90FF,
        8px 8px 0px rgba(0,0,0,0.2);
    backdrop-filter: none;
}

.theme-animal-crossing .animal-card::before {
    content: 'âœ¨';
    position: absolute;
    top: -10px;
    right: -10px;
    font-size: 20px;
    animation: acSparkle 2s ease-in-out infinite;
}

@keyframes acSparkle {
    0%, 100% { 
        transform: scale(1) rotate(0deg);
        opacity: 0.7;
    }
    50% { 
        transform: scale(1.3) rotate(180deg);
        opacity: 1;
    }
}

.theme-animal-crossing .animal-card:hover {
    transform: translateY(-8px);
    box-shadow: 
        6px 6px 0px #1E90FF,
        12px 12px 0px rgba(0,0,0,0.3);
}

.theme-animal-crossing .animal-info h4 {
    color: #2F4F4F;
    font-size: 16px;
}

.theme-animal-crossing .growth-stage {
    background: rgba(255,99,71,0.2);
    border-color: #FF6347;
    color: #FF6347;
}

.theme-animal-crossing .task-count {
    background: rgba(50,205,50,0.2);
    border-color: #32CD32;
    color: #32CD32;
}

.theme-animal-crossing .gentle-tip {
    background: rgba(255,255,255,0.7);
    color: #4682B4;
    border-color: #87CEEB;
    border-style: dashed;
}

.animal-card::before {
    content: 'âœ¨';
    position: absolute;
    top: -12px;
    right: -12px;
    font-size: 24px;
    animation: cardSparkle 3s ease-in-out infinite;
    filter: drop-shadow(0 0 8px rgba(255,215,0,0.6));
}

.animal-card::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255,255,255,0.3), 
        transparent);
    transition: left 0.8s ease;
}

@keyframes cardSparkle {
    0%, 100% { 
        transform: scale(1) rotate(0deg);
        opacity: 0.7;
    }
    50% { 
        transform: scale(1.4) rotate(180deg);
        opacity: 1;
    }
}

.animal-card:hover {
    transform: translateY(-10px) scale(1.02);
    box-shadow: 
        0 20px 40px rgba(221,160,221,0.3),
        inset 0 3px 6px rgba(255,255,255,0.9),
        0 0 30px rgba(221,160,221,0.2);
    border-color: #DA70D6;
}

.animal-card:hover::after {
    left: 100%;
}

.animal-image {
    font-size: 56px;
    margin-bottom: 15px;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
    animation: gentleBob 4s ease-in-out infinite;
    position: relative;
}

/* åŠ¨ç‰©å›¾ç‰‡å®¹å™¨ */
.animal-image-container {
    width: 80px;
    height: 80px;
    margin: 0 auto 15px;
    position: relative;
    border-radius: 50%;
    overflow: hidden;
    box-shadow: 
        0 4px 8px rgba(0,0,0,0.2),
        inset 0 2px 4px rgba(255,255,255,0.3);
    animation: gentleBob 4s ease-in-out infinite;
}

.animal-photo {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
    transition: all 0.3s ease;
}

.animal-card:hover .animal-photo {
    transform: scale(1.1);
}

.animal-emoji-fallback {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 40px;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
}

/* é”å®šçŠ¶æ€çš„å›¾ç‰‡æ•ˆæœ */
.animal-card.locked .animal-image-container {
    filter: grayscale(100%) brightness(0.7);
    opacity: 0.6;
}

.animal-card.locked .animal-image-container::after {
    content: 'ğŸ”’';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 24px;
    background: rgba(0,0,0,0.7);
    color: white;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

@keyframes gentleBob {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    25% { transform: translateY(-3px) rotate(2deg); }
    50% { transform: translateY(0) rotate(0deg); }
    75% { transform: translateY(-2px) rotate(-1deg); }
}

.animal-info h4 {
    font-size: 18px;
    margin-bottom: 10px;
    color: #8B4513;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-shadow: 2px 2px 4px rgba(139,69,19,0.2);
    position: relative;
}

.growth-stage {
    color: #FF6347;
    font-weight: bold;
    margin-bottom: 8px;
    font-family: 'Courier New', monospace;
    font-size: 13px;
    text-transform: uppercase;
    background: linear-gradient(145deg, rgba(255,99,71,0.1), rgba(255,99,71,0.05));
    padding: 4px 8px;
    border-radius: 10px;
    border: 2px solid rgba(255,99,71,0.3);
    display: inline-block;
}

.task-count {
    color: #32CD32;
    margin-bottom: 12px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 13px;
    background: linear-gradient(145deg, rgba(50,205,50,0.1), rgba(50,205,50,0.05));
    padding: 4px 8px;
    border-radius: 10px;
    border: 2px solid rgba(50,205,50,0.3);
    display: inline-block;
}

.gentle-tip {
    font-style: italic;
    color: #8B4513;
    font-size: 12px;
    font-family: 'Courier New', monospace;
    background: linear-gradient(145deg, rgba(255,255,255,0.8), rgba(255,255,255,0.6));
    padding: 8px 12px;
    border: 2px dashed rgba(139,69,19,0.3);
    border-radius: 15px;
    line-height: 1.4;
    margin-top: 8px;
}

/* é€šç”¨å¯¹è¯æ¡†æ ·å¼ - æ›´å¯çˆ±çš„è®¾è®¡ */
.general-chat-section {
    background: linear-gradient(145deg, 
        rgba(240,248,255,0.9), 
        rgba(255,240,245,0.9));
    border: 4px solid #DDA0DD;
    border-radius: 25px;
    padding: 25px;
    margin: 25px 0;
    box-shadow: 
        0 10px 20px rgba(221,160,221,0.2),
        inset 0 2px 4px rgba(255,255,255,0.8);
    position: relative;
    backdrop-filter: blur(5px);
}

.general-chat-section::before {
    content: 'ğŸ’­';
    position: absolute;
    top: -15px;
    left: 25px;
    font-size: 28px;
    background: linear-gradient(145deg, #FFD700, #FFA500);
    border: 4px solid #FF8C00;
    border-radius: 50%;
    padding: 8px;
    box-shadow: 0 6px 12px rgba(255,140,0,0.3);
    animation: thoughtBubbleFloat 4s ease-in-out infinite;
}

@keyframes thoughtBubbleFloat {
    0%, 100% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.1) rotate(10deg); }
}

.general-chat-section h3 {
    margin-bottom: 20px;
    color: #8B4513;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-size: 16px;
    text-align: center;
    text-shadow: 2px 2px 4px rgba(139,69,19,0.2);
}

.chat-preview {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.chat-input-simple {
    display: flex;
    gap: 15px;
}

#general-chat-input {
    flex: 1;
    padding: 15px;
    border: 3px solid #DDA0DD;
    border-radius: 20px;
    font-family: 'Courier New', monospace;
    background: linear-gradient(145deg, #FFF8FF, #F0F8FF);
    font-size: 14px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 
        inset 0 2px 4px rgba(221,160,221,0.2),
        0 2px 4px rgba(221,160,221,0.1);
}

#general-chat-input:focus {
    outline: none;
    border-color: #DA70D6;
    background: linear-gradient(145deg, #FFF0FF, #F8F8FF);
    box-shadow: 
        0 0 0 3px rgba(218,112,214,0.3),
        inset 0 2px 4px rgba(218,112,214,0.2),
        0 4px 8px rgba(218,112,214,0.2);
    transform: scale(1.02);
}

#general-chat-btn {
    background: linear-gradient(145deg, #32CD32, #90EE90);
    border: 3px solid #228B22;
    border-radius: 20px;
    padding: 15px 25px;
    color: white;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 14px;
    cursor: pointer;
    text-transform: uppercase;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 
        0 4px 8px rgba(34,139,34,0.3),
        inset 0 1px 2px rgba(255,255,255,0.3);
    position: relative;
    overflow: hidden;
}

#general-chat-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255,255,255,0.3), 
        transparent);
    transition: left 0.5s ease;
}

#general-chat-btn:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 
        0 8px 16px rgba(34,139,34,0.4),
        inset 0 2px 4px rgba(255,255,255,0.4);
}

#general-chat-btn:hover::before {
    left: 100%;
}

.chat-hint {
    text-align: center;
    padding: 15px;
    background: linear-gradient(145deg, 
        rgba(255,255,255,0.8), 
        rgba(255,255,255,0.6));
    border: 2px dashed rgba(139,69,19,0.3);
    border-radius: 15px;
    backdrop-filter: blur(3px);
}

.chat-hint p {
    color: #8B4513;
    font-size: 12px;
    font-family: 'Courier New', monospace;
    margin: 0;
    font-style: italic;
    line-height: 1.4;
}

/* æœªè§£é”åŠ¨ç‰©æ ·å¼ */
.animal-card.locked {
    background: #F5F5F5;
    border-color: #D3D3D3;
    opacity: 0.7;
}

.animal-card.locked .animal-image {
    filter: grayscale(100%);
    opacity: 0.5;
}

.animal-card.locked::before {
    content: 'ğŸ”’';
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 16px;
}

.animal-card.locked .animal-info h4 {
    color: #999;
}

.animal-card.locked .gentle-tip {
    color: #999;
    background: rgba(200,200,200,0.3);
}

/* è§£é”åŠ¨ç”» */
.animal-card.unlocking {
    animation: unlockAnimation 1s ease-in-out;
}

@keyframes unlockAnimation {
    0% { 
        transform: scale(1);
        filter: brightness(1);
    }
    50% { 
        transform: scale(1.1);
        filter: brightness(1.3);
        box-shadow: 0 0 20px #FFD700;
    }
    100% { 
        transform: scale(1);
        filter: brightness(1);
    }
}

/* å›¾é‰´é¡µé¢æœªè§£é”æ ·å¼ */
.encyclopedia-card.locked {
    background: #F5F5F5;
    border-color: #D3D3D3;
}

.encyclopedia-card.locked .animal-image {
    background: #E0E0E0;
    color: transparent;
    position: relative;
}

.encyclopedia-card.locked .animal-image::before {
    content: 'â“';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #999;
    font-size: 36px;
}

.encyclopedia-card.locked h4 {
    color: #999;
}

.encyclopedia-card.locked p {
    color: #999;
}

.status.locked {
    background: #E0E0E0;
    color: #999;
    border-color: #D3D3D3;
}

/* å¡”ç½—ç‰Œæ ·å¼è§£é”å¡ç‰‡ */
.tarot-unlock-card {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 5000;
    animation: tarotCardAppear 1s ease-out;
}

.tarot-card {
    width: 280px;
    height: 420px;
    background: linear-gradient(145deg, #2C1810, #4A2C17);
    border: 6px solid #D4AF37;
    border-radius: 15px;
    position: relative;
    transform-style: preserve-3d;
    animation: tarotCardFlip 2s ease-in-out;
    box-shadow: 
        0 0 30px rgba(212, 175, 55, 0.5),
        inset 0 0 20px rgba(212, 175, 55, 0.2);
}

.tarot-card::before {
    content: '';
    position: absolute;
    top: 10px;
    left: 10px;
    right: 10px;
    bottom: 10px;
    border: 2px solid #D4AF37;
    border-radius: 8px;
    background: linear-gradient(145deg, #1A0F08, #2C1810);
}

.tarot-card-content {
    position: relative;
    z-index: 2;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    padding: 25px 20px;
    color: #D4AF37;
    font-family: 'Courier New', monospace;
}

.tarot-card-header {
    text-align: center;
    margin-bottom: 10px;
}

.tarot-card-title {
    font-size: 16px;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 5px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
}

.tarot-card-subtitle {
    font-size: 12px;
    opacity: 0.8;
    font-style: italic;
}

.tarot-card-animal {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
}

.tarot-animal-symbol {
    font-size: 80px;
    margin-bottom: 15px;
    filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.6));
    animation: tarotGlow 2s ease-in-out infinite alternate;
}

.tarot-animal-name {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 10px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.tarot-animal-description {
    font-size: 14px;
    line-height: 1.4;
    text-align: center;
    opacity: 0.9;
    max-width: 200px;
}

.tarot-card-footer {
    text-align: center;
    border-top: 1px solid #D4AF37;
    padding-top: 15px;
    margin-top: 10px;
}

.tarot-card-message {
    font-size: 12px;
    font-style: italic;
    opacity: 0.8;
    margin-bottom: 10px;
}

.tarot-close-btn {
    background: linear-gradient(145deg, #D4AF37, #B8941F);
    border: 2px solid #D4AF37;
    color: #2C1810;
    padding: 8px 20px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 12px;
    text-transform: uppercase;
    cursor: pointer;
    border-radius: 20px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

.tarot-close-btn:hover {
    background: linear-gradient(145deg, #FFD700, #D4AF37);
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0,0,0,0.4);
}

/* å¡”ç½—ç‰Œè£…é¥°å…ƒç´  */
.tarot-card::after {
    content: '';
    position: absolute;
    top: 20px;
    left: 20px;
    right: 20px;
    bottom: 20px;
    background-image: 
        radial-gradient(circle at 20% 20%, rgba(212, 175, 55, 0.1) 2px, transparent 2px),
        radial-gradient(circle at 80% 80%, rgba(212, 175, 55, 0.1) 1px, transparent 1px);
    background-size: 30px 30px, 20px 20px;
    border-radius: 8px;
    pointer-events: none;
}

/* å¡”ç½—ç‰Œè§’è½è£…é¥° */
.tarot-corner-decoration {
    position: absolute;
    width: 20px;
    height: 20px;
    border: 2px solid #D4AF37;
    background: #2C1810;
}

.tarot-corner-decoration:nth-child(1) {
    top: 15px;
    left: 15px;
    border-right: none;
    border-bottom: none;
}

.tarot-corner-decoration:nth-child(2) {
    top: 15px;
    right: 15px;
    border-left: none;
    border-bottom: none;
}

.tarot-corner-decoration:nth-child(3) {
    bottom: 15px;
    left: 15px;
    border-right: none;
    border-top: none;
}

.tarot-corner-decoration:nth-child(4) {
    bottom: 15px;
    right: 15px;
    border-left: none;
    border-top: none;
}

/* åŠ¨ç”»æ•ˆæœ */
@keyframes tarotCardAppear {
    0% {
        opacity: 0;
        backdrop-filter: blur(0px);
    }
    100% {
        opacity: 1;
        backdrop-filter: blur(5px);
    }
}

@keyframes tarotCardFlip {
    0% {
        transform: perspective(1000px) rotateY(-90deg) scale(0.8);
        opacity: 0;
    }
    50% {
        transform: perspective(1000px) rotateY(0deg) scale(1.05);
        opacity: 1;
    }
    100% {
        transform: perspective(1000px) rotateY(0deg) scale(1);
        opacity: 1;
    }
}

@keyframes tarotGlow {
    0% {
        filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.6));
        transform: scale(1);
    }
    100% {
        filter: drop-shadow(0 0 20px rgba(212, 175, 55, 0.9));
        transform: scale(1.05);
    }
}

/* å¡”ç½—ç‰Œæ˜Ÿæ˜Ÿè£…é¥°åŠ¨ç”» */
.tarot-stars {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
    border-radius: 15px;
}

.tarot-star {
    position: absolute;
    color: #D4AF37;
    font-size: 12px;
    animation: tarotStarTwinkle 3s ease-in-out infinite;
    opacity: 0.7;
}

.tarot-star:nth-child(1) { top: 15%; left: 10%; animation-delay: 0s; }
.tarot-star:nth-child(2) { top: 25%; right: 15%; animation-delay: 0.5s; }
.tarot-star:nth-child(3) { bottom: 30%; left: 20%; animation-delay: 1s; }
.tarot-star:nth-child(4) { bottom: 20%; right: 10%; animation-delay: 1.5s; }
.tarot-star:nth-child(5) { top: 40%; left: 50%; animation-delay: 2s; }

@keyframes tarotStarTwinkle {
    0%, 100% {
        opacity: 0.3;
        transform: scale(0.8) rotate(0deg);
    }
    50% {
        opacity: 1;
        transform: scale(1.2) rotate(180deg);
    }
}

@keyframes tarotCardDisappear {
    0% {
        opacity: 1;
        transform: perspective(1000px) rotateY(0deg) scale(1);
        backdrop-filter: blur(5px);
    }
    100% {
        opacity: 0;
        transform: perspective(1000px) rotateY(90deg) scale(0.8);
        backdrop-filter: blur(0px);
    }
}
/* æµ®åŠ¨æŒ‰é’® - å¯çˆ±é£æ ¼ (é»˜è®¤) */
.add-task-btn {
    position: fixed;
    bottom: 120px;
    right: 30px;
    width: 64px;
    height: 64px;
    background: linear-gradient(145deg, #FFD700, #FFA500);
    border: 4px solid #FF8C00;
    border-radius: 50%;
    color: #8B4513;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 
        0 8px 16px rgba(255,140,0,0.3),
        inset 0 2px 4px rgba(255,255,255,0.4);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    animation: floatButton 3s ease-in-out infinite;
}

.chat-btn {
    position: fixed;
    bottom: 30px;
    right: 30px;
    padding: 15px 25px;
    background: linear-gradient(145deg, #98FB98, #90EE90);
    border: 4px solid #32CD32;
    border-radius: 25px;
    color: #006400;
    font-size: 16px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    cursor: pointer;
    box-shadow: 
        0 8px 16px rgba(50,205,50,0.3),
        inset 0 2px 4px rgba(255,255,255,0.4);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    animation: chatButtonPulse 4s ease-in-out infinite;
    position: relative;
    overflow: hidden;
}

/* å¤å¤æ³¢æ™®é£æ ¼æµ®åŠ¨æŒ‰é’® */
.theme-retro .add-task-btn {
    background: linear-gradient(145deg, #FF6B35, #B19CD9);
    border: 4px solid #8B0000;
    border-radius: 0;
    box-shadow: 
        4px 4px 0px #8B0000,
        8px 8px 0px rgba(0,0,0,0.4);
    color: white;
    text-shadow: 2px 2px 0px rgba(0,0,0,0.5);
    animation: retroFloat 2s ease-in-out infinite;
}

@keyframes retroFloat {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-8px) rotate(5deg); }
}

.theme-retro .add-task-btn:hover {
    transform: translateY(-10px) scale(1.1);
    box-shadow: 
        6px 10px 0px #8B0000,
        12px 20px 0px rgba(0,0,0,0.5);
    filter: brightness(1.2);
}

.theme-retro .chat-btn {
    background: linear-gradient(145deg, #06FFA5, #FFD23F);
    border: 4px solid #004D40;
    border-radius: 0;
    color: #004D40;
    box-shadow: 
        4px 4px 0px #004D40,
        8px 8px 0px rgba(0,0,0,0.4);
    text-shadow: 1px 1px 0px rgba(255,255,255,0.8);
    animation: retroChat 3s ease-in-out infinite;
}

@keyframes retroChat {
    0%, 100% { 
        box-shadow: 4px 4px 0px #004D40, 8px 8px 0px rgba(0,0,0,0.4);
        filter: hue-rotate(0deg);
    }
    50% { 
        box-shadow: 4px 4px 0px #004D40, 8px 8px 0px rgba(0,0,0,0.4), 0 0 20px #06FFA5;
        filter: hue-rotate(30deg);
    }
}

.theme-retro .chat-btn:hover {
    transform: translateY(-6px) scale(1.05);
    box-shadow: 
        6px 8px 0px #004D40,
        12px 16px 0px rgba(0,0,0,0.5);
    filter: brightness(1.2) saturate(1.3);
}

/* åŠ¨ç‰©æ£®å‹ä¼šé£æ ¼æµ®åŠ¨æŒ‰é’® */
.theme-animal-crossing .add-task-btn {
    background: #FFD700;
    border: 4px solid #FFA500;
    border-radius: 0;
    box-shadow: 
        4px 4px 0px #FF8C00,
        8px 8px 0px rgba(0,0,0,0.3);
    animation: acBob 3s ease-in-out infinite;
}

@keyframes acBob {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

.theme-animal-crossing .add-task-btn:hover {
    transform: translateY(-8px);
    box-shadow: 
        6px 8px 0px #FF8C00,
        12px 16px 0px rgba(0,0,0,0.3);
}

.theme-animal-crossing .chat-btn {
    background: #98FB98;
    border: 3px solid #32CD32;
    border-radius: 0;
    box-shadow: 
        3px 3px 0px #228B22,
        6px 6px 0px rgba(0,0,0,0.2);
    animation: acPulse 4s ease-in-out infinite;
}

@keyframes acPulse {
    0%, 100% { 
        box-shadow: 3px 3px 0px #228B22, 6px 6px 0px rgba(0,0,0,0.2);
    }
    50% { 
        box-shadow: 3px 3px 0px #228B22, 6px 6px 0px rgba(0,0,0,0.2), 0 0 15px #32CD32;
    }
}

.theme-animal-crossing .chat-btn:hover {
    transform: translateY(-4px);
    box-shadow: 
        4px 6px 0px #228B22,
        8px 12px 0px rgba(0,0,0,0.2);
}

/* ä»»åŠ¡æ€»è§ˆåŒºåŸŸæ ·å¼ */
.tasks-overview-section {
    background: linear-gradient(145deg, 
        rgba(255,250,250,0.95), 
        rgba(240,248,255,0.95));
    border: 4px solid #DDA0DD;
    border-radius: 25px;
    padding: 30px;
    margin-bottom: 30px;
    box-shadow: 
        0 15px 35px rgba(221,160,221,0.3),
        inset 0 2px 4px rgba(255,255,255,0.8),
        0 0 25px rgba(221,160,221,0.2);
    backdrop-filter: blur(10px);
    position: relative;
}

.tasks-overview-section::before {
    content: 'ğŸ“Š';
    position: absolute;
    top: -15px;
    left: 30px;
    font-size: 28px;
    background: linear-gradient(145deg, #9370DB, #8A2BE2);
    border: 4px solid #4B0082;
    border-radius: 50%;
    padding: 8px;
    box-shadow: 0 6px 12px rgba(75,0,130,0.3);
    animation: statsFloat 4s ease-in-out infinite;
}

@keyframes statsFloat {
    0%, 100% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.1) rotate(10deg); }
}

.tasks-overview-section h3 {
    margin: 0 0 25px 0;
    color: #8B4513;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-size: 18px;
    text-align: center;
    text-shadow: 2px 2px 4px rgba(139,69,19,0.2);
}

/* ä»»åŠ¡ç»Ÿè®¡å¡ç‰‡ */
.tasks-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 20px;
    margin-bottom: 25px;
}

.stat-card {
    background: linear-gradient(145deg, #F0F8FF, #E6E6FA);
    border: 3px solid #9370DB;
    border-radius: 15px;
    padding: 20px;
    text-align: center;
    box-shadow: 
        0 8px 16px rgba(147,112,219,0.2),
        inset 0 2px 4px rgba(255,255,255,0.8);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255,255,255,0.3), 
        transparent);
    transition: left 0.6s ease;
}

.stat-card:hover {
    transform: translateY(-5px) scale(1.02);
    box-shadow: 
        0 12px 24px rgba(147,112,219,0.3),
        inset 0 2px 4px rgba(255,255,255,0.9);
}

.stat-card:hover::before {
    left: 100%;
}

.stat-card.completed {
    border-color: #32CD32;
    background: linear-gradient(145deg, #F0FFF0, #E6FFE6);
}

.stat-card.pending {
    border-color: #FFD700;
    background: linear-gradient(145deg, #FFFACD, #FFF8DC);
}

.stat-card.deleted {
    border-color: #FF6B6B;
    background: linear-gradient(145deg, #FFE4E1, #FFF0F0);
}

.stat-number {
    font-size: 32px;
    font-weight: bold;
    font-family: 'Courier New', monospace;
    color: #4B0082;
    margin-bottom: 8px;
    text-shadow: 2px 2px 4px rgba(75,0,130,0.2);
}

.stat-card.completed .stat-number {
    color: #228B22;
}

.stat-card.pending .stat-number {
    color: #DAA520;
}

.stat-card.deleted .stat-number {
    color: #DC143C;
}

.stat-label {
    font-size: 12px;
    font-weight: bold;
    font-family: 'Courier New', monospace;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* ä»»åŠ¡ç­›é€‰æŒ‰é’® */
.tasks-filter {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: 25px;
    flex-wrap: wrap;
}

.filter-btn {
    background: linear-gradient(145deg, #E6E6FA, #D8BFD8);
    border: 3px solid #9370DB;
    border-radius: 20px;
    padding: 10px 20px;
    color: #4B0082;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 12px;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 
        0 4px 8px rgba(147,112,219,0.2),
        inset 0 1px 2px rgba(255,255,255,0.8);
}

.filter-btn:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 
        0 6px 12px rgba(147,112,219,0.3),
        inset 0 2px 4px rgba(255,255,255,0.9);
}

.filter-btn.active {
    background: linear-gradient(145deg, #9370DB, #8A2BE2);
    color: white;
    transform: translateY(-3px) scale(1.08);
    box-shadow: 
        0 8px 16px rgba(147,112,219,0.4),
        inset 0 2px 4px rgba(255,255,255,0.3);
}

/* å…¨éƒ¨ä»»åŠ¡åˆ—è¡¨ */
.all-tasks-list {
    max-height: 400px;
    overflow-y: auto;
    padding-right: 10px;
}

.all-tasks-list::-webkit-scrollbar {
    width: 8px;
}

.all-tasks-list::-webkit-scrollbar-track {
    background: rgba(221,160,221,0.1);
    border-radius: 4px;
}

.all-tasks-list::-webkit-scrollbar-thumb {
    background: rgba(147,112,219,0.5);
    border-radius: 4px;
}

.all-tasks-list::-webkit-scrollbar-thumb:hover {
    background: rgba(147,112,219,0.7);
}

.overview-task-item {
    background: #F8F8FF;
    border: 3px solid #B0C4DE;
    border-radius: 12px;
    padding: 15px;
    margin-bottom: 12px;
    transition: all 0.3s ease;
    font-family: 'Courier New', monospace;
    position: relative;
    display: flex;
    align-items: center;
    gap: 15px;
}

.overview-task-item:hover {
    transform: translateY(-2px);
    box-shadow: 3px 6px 0px #9370DB;
}

.overview-task-item.completed {
    background: #F0FFF0;
    border-color: #32CD32;
    opacity: 0.8;
}

.overview-task-item.deleted {
    background: #FFE4E1;
    border-color: #FF6B6B;
    opacity: 0.6;
}

.task-animal-icon {
    font-size: 32px;
    flex-shrink: 0;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
}

.overview-task-content {
    flex: 1;
    min-width: 0;
}

.overview-task-title {
    font-size: 14px;
    font-weight: bold;
    color: #2F4F4F;
    margin-bottom: 6px;
    line-height: 1.4;
    word-wrap: break-word;
}

.overview-task-item.completed .overview-task-title {
    text-decoration: line-through;
    color: #666;
}

.overview-task-item.deleted .overview-task-title {
    text-decoration: line-through;
    color: #999;
}

.overview-task-meta {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 11px;
    color: #666;
    flex-wrap: wrap;
}

.task-animal-name {
    background: rgba(147,112,219,0.2);
    border: 1px solid #9370DB;
    padding: 2px 6px;
    border-radius: 8px;
    font-weight: bold;
    color: #4B0082;
}

.task-zone-label {
    background: rgba(255,165,0,0.2);
    border: 1px solid #FFA500;
    padding: 2px 6px;
    border-radius: 8px;
    font-weight: bold;
    color: #FF8C00;
}

.task-date {
    color: #999;
    font-style: italic;
}

.task-status-badge {
    padding: 2px 6px;
    border-radius: 8px;
    font-weight: bold;
    font-size: 10px;
    text-transform: uppercase;
}

.task-status-badge.completed {
    background: rgba(50,205,50,0.2);
    border: 1px solid #32CD32;
    color: #228B22;
}

.task-status-badge.pending {
    background: rgba(255,215,0,0.2);
    border: 1px solid #FFD700;
    color: #DAA520;
}

.task-status-badge.deleted {
    background: rgba(255,107,107,0.2);
    border: 1px solid #FF6B6B;
    color: #DC143C;
}

.empty-all-tasks {
    text-align: center;
    padding: 40px 20px;
    color: #666;
    font-family: 'Courier New', monospace;
}

.empty-all-tasks p:first-child {
    font-size: 24px;
    margin-bottom: 10px;
}

.empty-all-tasks p:last-child {
    font-size: 14px;
    font-style: italic;
    line-height: 1.4;
}

/* æˆé•¿è¿›åº¦åŒºåŸŸ */
.growth-progress-section {
    background: linear-gradient(145deg, 
        rgba(240,255,240,0.95), 
        rgba(255,250,250,0.95));
    border: 4px solid #32CD32;
    border-radius: 25px;
    padding: 30px;
    box-shadow: 
        0 15px 35px rgba(50,205,50,0.3),
        inset 0 2px 4px rgba(255,255,255,0.8),
        0 0 25px rgba(50,205,50,0.2);
    backdrop-filter: blur(10px);
    position: relative;
}

.growth-progress-section::before {
    content: 'ğŸ“ˆ';
    position: absolute;
    top: -15px;
    left: 30px;
    font-size: 28px;
    background: linear-gradient(145deg, #32CD32, #228B22);
    border: 4px solid #006400;
    border-radius: 50%;
    padding: 8px;
    box-shadow: 0 6px 12px rgba(0,100,0,0.3);
    animation: growthFloat 4s ease-in-out infinite;
}

@keyframes growthFloat {
    0%, 100% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.1) rotate(-10deg); }
}

.growth-progress-section h3 {
    margin: 0 0 25px 0;
    color: #8B4513;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-size: 18px;
    text-align: center;
    text-shadow: 2px 2px 4px rgba(139,69,19,0.2);
}

/* å¤å¤æ³¢æ™®é£æ ¼ä»»åŠ¡æ€»è§ˆ */
.theme-retro .tasks-overview-section {
    background: linear-gradient(145deg, #FFD23F, #06FFA5);
    border: 4px solid #8B0000;
    border-radius: 0;
    box-shadow: 
        6px 6px 0px #8B0000,
        12px 12px 0px rgba(0,0,0,0.4);
    backdrop-filter: none;
}

.theme-retro .stat-card {
    background: #B19CD9;
    border: 3px solid #8B0000;
    border-radius: 0;
    box-shadow: 
        2px 2px 0px #8B0000,
        4px 4px 0px rgba(0,0,0,0.3);
}

.theme-retro .stat-card:hover {
    transform: translateY(-3px);
    box-shadow: 
        3px 5px 0px #8B0000,
        6px 10px 0px rgba(0,0,0,0.4);
}

.theme-retro .filter-btn {
    background: #FF6B35;
    border: 3px solid #8B0000;
    border-radius: 0;
    color: white;
    text-shadow: 1px 1px 0px rgba(0,0,0,0.5);
    box-shadow: 
        2px 2px 0px #8B0000,
        4px 4px 0px rgba(0,0,0,0.3);
}

.theme-retro .filter-btn.active {
    background: #06FFA5;
    color: #004D40;
    text-shadow: 1px 1px 0px rgba(255,255,255,0.8);
}

/* åŠ¨ç‰©æ£®å‹ä¼šé£æ ¼ä»»åŠ¡æ€»è§ˆ */
.theme-animal-crossing .tasks-overview-section {
    background: #F5F5DC;
    border: 4px solid #8B4513;
    border-radius: 0;
    box-shadow: 
        6px 6px 0px #654321,
        12px 12px 0px rgba(0,0,0,0.1);
    backdrop-filter: none;
}

.theme-animal-crossing .stat-card {
    background: #FFFACD;
    border: 3px solid #DEB887;
    border-radius: 0;
    box-shadow: 
        2px 2px 0px #B8860B,
        4px 4px 0px rgba(0,0,0,0.2);
}

.theme-animal-crossing .filter-btn {
    background: #FFE4B5;
    border: 3px solid #DEB887;
    border-radius: 0;
    color: #8B4513;
    box-shadow: 
        2px 2px 0px #B8860B,
        4px 4px 0px rgba(0,0,0,0.2);
}

.theme-animal-crossing .filter-btn.active {
    background: #32CD32;
    border-color: #228B22;
    color: white;
}

/* è¿›åº¦æ¡æ ·å¼ - åƒç´ é£æ ¼ */
.progress-container {
    margin-top: 20px;
}

.animal-progress {
    display: flex;
    align-items: center;
    margin-bottom: 20px;
    padding: 15px;
    background: #E6E6FA;
    border: 3px solid #9370DB;
    box-shadow: 3px 3px 0px #8A2BE2;
    position: relative;
}

.animal-name {
    min-width: 120px;
    font-weight: bold;
    color: #4B0082;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    font-size: 12px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.progress-bar {
    flex: 1;
    height: 16px;
    background: #F5F5F5;
    border: 2px solid #696969;
    margin: 0 15px;
    overflow: hidden;
    position: relative;
}

.progress-bar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: repeating-linear-gradient(
        45deg,
        transparent,
        transparent 2px,
        rgba(0,0,0,0.1) 2px,
        rgba(0,0,0,0.1) 4px
    );
    pointer-events: none;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #32CD32, #90EE90);
    transition: width 0.5s ease;
    position: relative;
}

.progress-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, 
        rgba(255,255,255,0.3) 0%, 
        transparent 50%, 
        rgba(255,255,255,0.3) 100%);
    animation: shine 2s ease-in-out infinite;
}

@keyframes shine {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.progress-info {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    min-width: 80px;
}

.progress-text {
    font-weight: bold;
    color: #32CD32;
    font-family: 'Courier New', monospace;
    font-size: 12px;
}

.growth-stage {
    font-size: 10px;
    color: #9370DB;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    margin-top: 2px;
}

.experience-info {
    position: absolute;
    bottom: 5px;
    right: 15px;
}

.experience-info small {
    font-size: 9px;
    color: #666;
    font-family: 'Courier New', monospace;
}

.empty-progress, .error-progress {
    text-align: center;
    padding: 40px 20px;
    background: #F0F8FF;
    border: 3px dashed #B0C4DE;
    color: #4682B4;
    font-family: 'Courier New', monospace;
}

.empty-progress p:first-child, .error-progress p:first-child {
    font-size: 24px;
    margin-bottom: 10px;
}

.empty-progress p:last-child, .error-progress p:last-child {
    font-size: 12px;
    font-style: italic;
}

/* å›¾é‰´ç½‘æ ¼æ ·å¼ - åƒç´ é£æ ¼ */
.encyclopedia-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.encyclopedia-card {
    background: #FFFACD;
    border: 3px solid #DAA520;
    padding: 15px;
    text-align: center;
    box-shadow: 
        3px 3px 0px #B8860B,
        6px 6px 0px rgba(0,0,0,0.2);
    transition: all 0.3s ease;
    position: relative;
}

.encyclopedia-card::before {
    content: 'ğŸ“–';
    position: absolute;
    top: -8px;
    left: -8px;
    font-size: 16px;
    background: #FFD700;
    border: 2px solid #FFA500;
    padding: 2px;
}

.encyclopedia-card:hover {
    transform: translateY(-5px);
    box-shadow: 
        4px 8px 0px #B8860B,
        8px 16px 0px rgba(0,0,0,0.2);
}

.encyclopedia-card .animal-image {
    font-size: 36px;
    margin-bottom: 8px;
    filter: drop-shadow(1px 1px 0px rgba(0,0,0,0.3));
}

/* å›¾é‰´åŠ¨ç‰©å›¾ç‰‡ */
.encyclopedia-animal-image {
    width: 60px;
    height: 60px;
    margin: 0 auto 12px;
    position: relative;
    border-radius: 50%;
    overflow: hidden;
    box-shadow: 
        0 2px 4px rgba(0,0,0,0.2),
        inset 0 1px 2px rgba(255,255,255,0.3);
}

.encyclopedia-photo {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
    transition: all 0.3s ease;
}

.encyclopedia-card:hover .encyclopedia-photo {
    transform: scale(1.1);
}

.encyclopedia-emoji-fallback {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 32px;
    filter: drop-shadow(1px 1px 0px rgba(0,0,0,0.3));
}

/* é”å®šçŠ¶æ€çš„å›¾é‰´å›¾ç‰‡ */
.encyclopedia-card.locked .encyclopedia-animal-image {
    filter: grayscale(100%) brightness(0.7);
    opacity: 0.6;
}

.encyclopedia-card.locked .encyclopedia-animal-image::after {
    content: 'â“';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 20px;
    background: rgba(0,0,0,0.7);
    color: white;
    border-radius: 50%;
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

.encyclopedia-card h4 {
    margin-bottom: 6px;
    color: #8B4513;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 14px;
    text-transform: uppercase;
}

.encyclopedia-card p {
    color: #A0522D;
    font-size: 11px;
    margin-bottom: 8px;
    font-family: 'Courier New', monospace;
    line-height: 1.3;
}

.status {
    padding: 4px 8px;
    font-size: 10px;
    font-weight: bold;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    border: 2px solid;
}

.status.owned {
    background: #90EE90;
    color: #006400;
    border-color: #32CD32;
}

.status.locked {
    background: #D3D3D3;
    color: #696969;
    border-color: #A9A9A9;
}

/* ä»»åŠ¡åˆ—è¡¨æ¨¡æ€æ¡†æ ·å¼ */
.animal-tasks-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 3px solid #DEB887;
}

.animal-tasks-header h3 {
    margin: 0;
    color: #2F4F4F;
    font-family: 'Courier New', monospace;
    font-size: 18px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.close-tasks-btn {
    background: #FF6B6B;
    border: 3px solid #FF4757;
    padding: 8px 12px;
    color: white;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s ease;
    border-radius: 0;
}

.close-tasks-btn:hover {
    transform: translateY(-2px);
    box-shadow: 2px 4px 0px #FF4757;
}

/* éª°å­æŒ‰é’®åŒºåŸŸ */
.dice-section {
    text-align: center;
    margin-bottom: 30px;
    padding: 20px;
    background: linear-gradient(145deg, rgba(255,215,0,0.1), rgba(255,165,0,0.05));
    border: 3px solid #FFD700;
    border-radius: 15px;
    position: relative;
}

.dice-section::before {
    content: 'âœ¨';
    position: absolute;
    top: -8px;
    left: 20px;
    font-size: 20px;
    background: #FFD700;
    border: 2px solid #FFA500;
    border-radius: 50%;
    padding: 4px;
    animation: sparkle 2s ease-in-out infinite;
}

@keyframes sparkle {
    0%, 100% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.2) rotate(180deg); }
}

.dice-btn {
    background: linear-gradient(145deg, #FFD700, #FFA500);
    border: 4px solid #FF8C00;
    border-radius: 20px;
    padding: 15px 30px;
    color: #8B4513;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    gap: 12px;
    margin: 0 auto 15px;
    box-shadow: 
        0 6px 12px rgba(255,140,0,0.3),
        inset 0 2px 4px rgba(255,255,255,0.4);
    position: relative;
    overflow: hidden;
}

.dice-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255,255,255,0.4), 
        transparent);
    transition: left 0.6s ease;
}

.dice-btn:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 
        0 10px 20px rgba(255,140,0,0.4),
        inset 0 2px 4px rgba(255,255,255,0.5);
}

.dice-btn:hover::before {
    left: 100%;
}

.dice-btn:active {
    transform: translateY(-1px) scale(1.02);
}

.dice-btn.rolling {
    animation: diceRoll 1s ease-in-out;
}

@keyframes diceRoll {
    0%, 100% { transform: translateY(-3px) scale(1.05) rotate(0deg); }
    25% { transform: translateY(-3px) scale(1.05) rotate(90deg); }
    50% { transform: translateY(-3px) scale(1.05) rotate(180deg); }
    75% { transform: translateY(-3px) scale(1.05) rotate(270deg); }
}

.dice-icon {
    font-size: 24px;
    animation: diceFloat 3s ease-in-out infinite;
}

@keyframes diceFloat {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-3px) rotate(10deg); }
}

.dice-text {
    text-transform: uppercase;
    letter-spacing: 1px;
}

.dice-hint {
    font-size: 12px;
    color: #8B4513;
    font-family: 'Courier New', monospace;
    font-style: italic;
    margin: 0;
    line-height: 1.4;
}

/* ä»»åŠ¡åˆ—è¡¨åŒºåŸŸ */
.tasks-list {
    background: rgba(255,255,255,0.8);
    border: 3px solid #87CEEB;
    border-radius: 15px;
    padding: 20px;
    backdrop-filter: blur(5px);
}

.tasks-list h4 {
    margin: 0 0 15px 0;
    color: #2F4F4F;
    font-family: 'Courier New', monospace;
    font-size: 16px;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-align: center;
}

.task-item {
    background: #F0F8FF;
    border: 3px solid #4169E1;
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 15px;
    position: relative;
    transition: all 0.3s ease;
    font-family: 'Courier New', monospace;
}

.task-item:hover {
    transform: translateY(-2px);
    box-shadow: 3px 6px 0px #1E90FF;
}

.task-item.completed {
    background: #F0FFF0;
    border-color: #32CD32;
    opacity: 0.7;
}

.task-item.completed .task-title {
    text-decoration: line-through;
    color: #666;
}

.task-title {
    font-size: 14px;
    font-weight: bold;
    color: #2F4F4F;
    margin-bottom: 8px;
    line-height: 1.4;
}

.task-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 11px;
    color: #666;
    margin-bottom: 10px;
}

.task-zone {
    background: rgba(255,165,0,0.2);
    border: 1px solid #FFA500;
    padding: 2px 6px;
    border-radius: 8px;
    font-weight: bold;
}

.task-reward {
    color: #32CD32;
    font-weight: bold;
}

.task-actions {
    display: flex;
    gap: 8px;
    justify-content: flex-end;
}

.complete-task-btn {
    background: #32CD32;
    border: 2px solid #228B22;
    color: white;
    padding: 6px 12px;
    font-family: 'Courier New', monospace;
    font-size: 10px;
    font-weight: bold;
    cursor: pointer;
    border-radius: 0;
    text-transform: uppercase;
    transition: all 0.2s ease;
}

.complete-task-btn:hover {
    transform: translateY(-1px);
    box-shadow: 1px 3px 0px #228B22;
}

.delete-task-btn {
    background: #FF6B6B;
    border: 2px solid #FF4757;
    color: white;
    padding: 6px 12px;
    font-family: 'Courier New', monospace;
    font-size: 10px;
    font-weight: bold;
    cursor: pointer;
    border-radius: 0;
    text-transform: uppercase;
    transition: all 0.2s ease;
}

.delete-task-btn:hover {
    transform: translateY(-1px);
    box-shadow: 1px 3px 0px #FF4757;
}

.empty-tasks {
    text-align: center;
    padding: 30px 20px;
    color: #666;
    font-family: 'Courier New', monospace;
}

.empty-tasks p:first-child {
    font-size: 18px;
    margin-bottom: 8px;
}

.empty-tasks p:last-child {
    font-size: 12px;
    font-style: italic;
    line-height: 1.4;
}

/* ä»»åŠ¡ç”ŸæˆæˆåŠŸåŠ¨ç”» */
.task-generated {
    animation: taskAppear 0.8s ease-out;
}

@keyframes taskAppear {
    0% {
        opacity: 0;
        transform: translateY(20px) scale(0.9);
    }
    50% {
        opacity: 1;
        transform: translateY(-5px) scale(1.05);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* å¤å¤æ³¢æ™®é£æ ¼ä»»åŠ¡åˆ—è¡¨ */
.theme-retro .dice-btn {
    background: linear-gradient(145deg, #FF6B35, #B19CD9);
    border: 4px solid #8B0000;
    border-radius: 0;
    color: white;
    text-shadow: 2px 2px 0px rgba(0,0,0,0.5);
    box-shadow: 
        4px 4px 0px #8B0000,
        8px 8px 0px rgba(0,0,0,0.4);
}

.theme-retro .dice-btn:hover {
    transform: translateY(-5px) scale(1.05);
    box-shadow: 
        6px 8px 0px #8B0000,
        12px 16px 0px rgba(0,0,0,0.5);
    filter: brightness(1.2);
}

.theme-retro .task-item {
    background: #FFD23F;
    border: 3px solid #8B0000;
    border-radius: 0;
    box-shadow: 
        2px 2px 0px #8B0000,
        4px 4px 0px rgba(0,0,0,0.3);
}

.theme-retro .task-item:hover {
    transform: translateY(-3px);
    box-shadow: 
        3px 5px 0px #8B0000,
        6px 10px 0px rgba(0,0,0,0.4);
}

/* åŠ¨ç‰©æ£®å‹ä¼šé£æ ¼ä»»åŠ¡åˆ—è¡¨ */
.theme-animal-crossing .dice-btn {
    background: #FFD700;
    border: 4px solid #FFA500;
    border-radius: 0;
    box-shadow: 
        4px 4px 0px #FF8C00,
        8px 8px 0px rgba(0,0,0,0.3);
}

.theme-animal-crossing .dice-btn:hover {
    transform: translateY(-4px);
    box-shadow: 
        6px 8px 0px #FF8C00,
        12px 16px 0px rgba(0,0,0,0.3);
}

.theme-animal-crossing .task-item {
    background: #F0F8FF;
    border: 3px solid #4169E1;
    border-radius: 0;
    box-shadow: 
        3px 3px 0px #1E90FF,
        6px 6px 0px rgba(0,0,0,0.2);
}

.theme-animal-crossing .task-item:hover {
    transform: translateY(-3px);
    box-shadow: 
        4px 6px 0px #1E90FF,
        8px 12px 0px rgba(0,0,0,0.2);
}

/* æ¨¡æ€æ¡†æ ·å¼ - åƒç´ é£æ ¼ */
.modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal.hidden {
    display: none;
}

.modal-content {
    background: #F0F8FF;
    border: 4px solid #4169E1;
    padding: 25px;
    max-width: 480px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    box-shadow: 
        6px 6px 0px #1E90FF,
        12px 12px 0px rgba(0,0,0,0.4);
    position: relative;
}

.modal-content::before {
    content: 'ğŸ®';
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 24px;
    background: #FFD700;
    border: 3px solid #FFA500;
    padding: 4px;
}

.modal-content h3 {
    margin-bottom: 20px;
    text-align: center;
    color: #2F4F4F;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-size: 16px;
}

/* è¡¨å•æ ·å¼ - åƒç´ é£æ ¼ */
form {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

input, textarea, select {
    padding: 10px;
    border: 3px solid #B0C4DE;
    font-size: 14px;
    font-family: 'Courier New', monospace;
    background: #F8F8FF;
    transition: border-color 0.2s ease;
}

input:focus, textarea:focus, select:focus {
    outline: none;
    border-color: #4169E1;
    background: #E6E6FA;
    box-shadow: 2px 2px 0px #1E90FF;
}

textarea {
    resize: vertical;
    min-height: 70px;
}

.modal-buttons {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    margin-top: 10px;
}

.cancel-btn, .create-btn {
    padding: 10px 20px;
    border: 3px solid;
    cursor: pointer;
    font-size: 12px;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    text-transform: uppercase;
    transition: all 0.2s ease;
}

.cancel-btn {
    background: #D3D3D3;
    color: #696969;
    border-color: #A9A9A9;
}

.cancel-btn:hover {
    background: #C0C0C0;
    transform: translateY(-2px);
    box-shadow: 2px 4px 0px #A9A9A9;
}

.create-btn {
    background: #98FB98;
    color: #006400;
    border-color: #32CD32;
}

.create-btn:hover {
    background: #90EE90;
    transform: translateY(-2px);
    box-shadow: 2px 4px 0px #32CD32;
}

/* èŠå¤©ç•Œé¢æ ·å¼ - åƒç´ é£æ ¼ */
.chat-content {
    max-width: 600px;
    height: 600px;
    display: flex;
    flex-direction: column;
    padding: 20px;
}

.chat-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 3px solid #DEB887;
}

.chat-header h3 {
    margin: 0;
    color: #2F4F4F;
    font-family: 'Courier New', monospace;
    font-size: 16px;
    text-transform: uppercase;
}

.chat-controls {
    display: flex;
    gap: 10px;
}

.settings-btn, .close-chat-btn {
    background: #FFD700;
    border: 3px solid #FFA500;
    padding: 6px 12px;
    color: #8B4513;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.settings-btn:hover, .close-chat-btn:hover {
    transform: translateY(-2px);
    box-shadow: 2px 4px 0px #FF8C00;
}

.animal-selection {
    text-align: center;
    padding: 20px;
}

.animal-selection p {
    margin-bottom: 20px;
    color: #2F4F4F;
    font-family: 'Courier New', monospace;
    font-weight: bold;
}

.animal-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 15px;
}

.animal-select-btn {
    background: #F0F8FF;
    border: 3px solid #4169E1;
    padding: 15px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
}

.animal-select-btn:hover {
    transform: translateY(-3px);
    box-shadow: 3px 6px 0px #1E90FF;
}

.animal-avatar {
    font-size: 32px;
    margin-bottom: 5px;
}

.animal-select-btn span {
    font-family: 'Courier New', monospace;
    font-weight: bold;
    color: #2F4F4F;
    font-size: 12px;
    text-transform: uppercase;
}

.chat-interface {
    flex: 1;
    display: flex;
    flex-direction: column;
}

.chat-messages {
    flex: 1;
    border: 3px solid #B0C4DE;
    padding: 15px;
    margin-bottom: 15px;
    overflow-y: auto;
    background: #F8F8FF;
    min-height: 300px;
    max-height: 350px;
}

.message {
    margin-bottom: 15px;
    padding: 10px;
    border: 2px solid;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    line-height: 1.4;
    position: relative;
}

.user-message {
    background: #E6E6FA;
    border-color: #9370DB;
    margin-left: 20px;
    color: #4B0082;
}

.animal-message {
    background: #F0FFF0;
    border-color: #32CD32;
    margin-right: 20px;
    color: #006400;
}

.message strong {
    display: block;
    margin-bottom: 5px;
    font-size: 11px;
    text-transform: uppercase;
}

.chat-input-container {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
}

#chat-input {
    flex: 1;
    padding: 10px;
    border: 3px solid #B0C4DE;
    font-family: 'Courier New', monospace;
    background: #F8F8FF;
    font-size: 12px;
}

#chat-input:focus {
    outline: none;
    border-color: #4169E1;
    box-shadow: 2px 2px 0px #1E90FF;
}

#send-btn {
    background: #32CD32;
    border: 3px solid #228B22;
    padding: 10px 20px;
    color: white;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 12px;
    cursor: pointer;
    text-transform: uppercase;
    transition: all 0.2s ease;
}

#send-btn:hover {
    transform: translateY(-2px);
    box-shadow: 2px 4px 0px #228B22;
}

.chat-actions {
    display: flex;
    gap: 10px;
    justify-content: center;
}

.action-btn {
    background: #FFE4E1;
    border: 3px solid #FF69B4;
    padding: 8px 16px;
    color: #8B008B;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 11px;
    cursor: pointer;
    text-transform: uppercase;
    transition: all 0.2s ease;
}

.action-btn:hover {
    transform: translateY(-2px);
    box-shadow: 2px 4px 0px #FF1493;
}

/* APIé…ç½®é¢æ¿æ ·å¼ */
.api-config-panel {
    padding: 20px;
}

.api-config-panel h4 {
    margin-bottom: 20px;
    color: #2F4F4F;
    font-family: 'Courier New', monospace;
    text-transform: uppercase;
    text-align: center;
}

.config-group {
    margin-bottom: 20px;
}

.config-group label {
    display: block;
    margin-bottom: 5px;
    color: #2F4F4F;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 12px;
    text-transform: uppercase;
}

.config-group input {
    width: 100%;
    padding: 10px;
    border: 3px solid #B0C4DE;
    font-family: 'Courier New', monospace;
    background: #F8F8FF;
    font-size: 12px;
}

.config-group input:focus {
    outline: none;
    border-color: #4169E1;
    box-shadow: 2px 2px 0px #1E90FF;
}

.config-group small {
    display: block;
    margin-top: 5px;
    color: #696969;
    font-family: 'Courier New', monospace;
    font-size: 10px;
}

.config-actions {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
}

.test-btn, .save-btn {
    flex: 1;
    padding: 12px;
    border: 3px solid;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 12px;
    cursor: pointer;
    text-transform: uppercase;
    transition: all 0.2s ease;
}

.test-btn {
    background: #FFE4B5;
    border-color: #DEB887;
    color: #8B4513;
}

.test-btn:hover {
    transform: translateY(-2px);
    box-shadow: 2px 4px 0px #DEB887;
}

.save-btn {
    background: #98FB98;
    border-color: #32CD32;
    color: #006400;
}

.save-btn:hover {
    transform: translateY(-2px);
    box-shadow: 2px 4px 0px #32CD32;
}

.config-status {
    padding: 10px;
    margin-bottom: 15px;
    border: 2px solid;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    text-align: center;
}

.config-status.success {
    background: #F0FFF0;
    border-color: #32CD32;
    color: #006400;
}

.config-status.error {
    background: #FFE4E1;
    border-color: #FF6347;
    color: #DC143C;
}

.back-btn {
    width: 100%;
    background: #D3D3D3;
    border: 3px solid #A9A9A9;
    padding: 10px;
    color: #696969;
    font-family: 'Courier New', monospace;
    font-weight: bold;
    font-size: 12px;
    cursor: pointer;
    text-transform: uppercase;
    transition: all 0.2s ease;
}

.back-btn:hover {
    transform: translateY(-2px);
    box-shadow: 2px 4px 0px #A9A9A9;
}

.generate-task-btn {
    display: inline-block;
    margin-top: 8px;
    padding: 4px 8px;
    background: #FFD700;
    border: 2px solid #FFA500;
    color: #8B4513;
    font-family: 'Courier New', monospace;
    font-size: 10px;
    font-weight: bold;
    cursor: pointer;
    text-transform: uppercase;
    transition: all 0.2s ease;
}

.generate-task-btn:hover {
    transform: translateY(-1px);
    box-shadow: 1px 2px 0px #FFA500;
}

.typing-indicator {
    display: inline-block;
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* åŠ è½½æŒ‡ç¤ºå™¨ - åƒç´ é£æ ¼ */
.loading {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(240, 248, 255, 0.95);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 2000;
}

.loading.hidden {
    display: none;
}

.spinner {
    width: 40px;
    height: 40px;
    border: 4px solid #D3D3D3;
    border-top: 4px solid #32CD32;
    animation: pixelSpin 1.2s linear infinite;
    margin-bottom: 15px;
    position: relative;
}

.spinner::before {
    content: 'ğŸ®';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 16px;
    animation: bounce 0.6s ease-in-out infinite alternate;
}

@keyframes pixelSpin {
    0% { transform: rotate(0deg); }
    25% { transform: rotate(90deg); }
    50% { transform: rotate(180deg); }
    75% { transform: rotate(270deg); }
    100% { transform: rotate(360deg); }
}

@keyframes bounce {
    0% { transform: translate(-50%, -50%) scale(0.8); }
    100% { transform: translate(-50%, -50%) scale(1.2); }
}

.loading p {
    font-family: 'Courier New', monospace;
    font-weight: bold;
    color: #2F4F4F;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-size: 14px;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    #app {
        padding: 10px;
    }
    
    .main-nav {
        padding: 8px;
        margin-bottom: 20px;
    }
    
    .nav-tab {
        padding: 10px 16px;
        font-size: 14px;
    }
    
    .main-content {
        padding: 20px;
    }
    
    .weather-buttons {
        gap: 10px;
    }
    
    .weather-btn {
        padding: 10px 16px;
        font-size: 14px;
    }
    
    .animals-container {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .animal-card {
        padding: 20px;
    }
    
    .animal-image {
        font-size: 50px;
    }
    
    .add-task-btn {
        width: 50px;
        height: 50px;
        font-size: 20px;
        bottom: 80px;
        right: 20px;
    }
    
    .chat-btn {
        padding: 12px 20px;
        font-size: 14px;
        bottom: 20px;
        right: 20px;
    }
    
    .modal-content {
        padding: 20px;
        width: 95%;
    }
    
    .chat-content {
        height: 400px;
    }
    
    .encyclopedia-grid {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
    }
    
    .animal-progress {
        flex-direction: column;
        align-items: stretch;
        gap: 10px;
        padding: 15px;
    }
    
    .animal-name {
        min-width: auto;
        text-align: center;
        justify-content: center;
    }
    
    .progress-bar {
        margin: 0;
        order: 2;
    }
    
    .progress-info {
        align-items: center;
        order: 3;
        min-width: auto;
    }
    
    .experience-info {
        position: static;
        text-align: center;
        margin-top: 5px;
        order: 4;
    }
}

@media (max-width: 480px) {
    .main-nav {
        flex-direction: column;
        gap: 5px;
    }
    
    .nav-tab {
        width: 100%;
        text-align: center;
    }
    
    .weather-buttons {
        flex-direction: column;
        align-items: center;
    }
    
    .weather-btn {
        width: 200px;
    }
    
    .modal-buttons {
        flex-direction: column;
    }
    
    .cancel-btn, .create-btn {
        width: 100%;
    }
}

/* ===== æ‰‹æœºç‰ˆæ ·å¼ ===== */
body.mobile-version {
    font-size: 14px;
    line-height: 1.4;
    /* æ‰‹æœºç‰ˆä½¿ç”¨æ›´å°çš„æœ€å¤§å®½åº¦ */
    max-width: 100%;
    margin: 0;
    padding: 0;
    /* å¼ºåˆ¶æ‰‹æœºç‰ˆè§†å£ */
    width: 100vw;
    height: 100vh;
    overflow-x: hidden;
    /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    /* ç§»åŠ¨ç«¯å­—ä½“æ¸²æŸ“ä¼˜åŒ– */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* é˜²æ­¢æ©¡çš®ç­‹æ•ˆæœ */
    overscroll-behavior: none;
}

/* æ‰‹æœºç‰ˆåº”ç”¨å®¹å™¨ */
body.mobile-version #app {
    padding: 5px;
    max-width: 100vw;
    width: 100vw;
    margin: 0;
    min-height: 100vh;
    min-height: calc(var(--vh, 1vh) * 100);
    height: 100vh;
    height: calc(var(--vh, 1vh) * 100);
    /* ç¡®ä¿åº”ç”¨å æ»¡æ•´ä¸ªå±å¹• */
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    /* ç§»åŠ¨ç«¯æ»šåŠ¨ä¼˜åŒ– */
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
}

/* æ‰‹æœºç‰ˆæ—¶ç‰ˆæœ¬åˆ‡æ¢å™¨å’Œä¸»é¢˜åˆ‡æ¢å™¨çš„ä½ç½®è°ƒæ•´ */
body.mobile-version .version-switcher {
    top: 8px;
    right: 8px;
    padding: 6px;
    border-width: 2px;
    border-radius: 10px;
    /* ç¼©å°å°ºå¯¸ */
    transform: scale(0.8);
    transform-origin: top right;
}

body.mobile-version .theme-switcher {
    top: 8px;
    left: 8px;
    padding: 8px;
    border-width: 2px;
    border-radius: 10px;
    /* ç¼©å°å°ºå¯¸ */
    transform: scale(0.8);
    transform-origin: top left;
}

body.mobile-version .theme-switcher h4,
body.mobile-version .version-switcher h4 {
    font-size: 9px;
    margin-bottom: 4px;
}

body.mobile-version .theme-btn,
body.mobile-version .version-btn {
    padding: 4px 6px;
    font-size: 7px;
    min-width: 60px;
    border-width: 1px;
    border-radius: 6px;
}

/* æ‰‹æœºç‰ˆå¯¼èˆª */
body.mobile-version .main-nav {
    padding: 6px;
    margin-bottom: 8px;
    border-width: 2px;
    border-radius: 12px;
    /* ä¿æŒæ°´å¹³å¸ƒå±€ï¼Œä½†è°ƒæ•´é—´è· */
    flex-direction: row;
    gap: 2px;
    justify-content: space-between;
    /* å›ºå®šé«˜åº¦é¿å…å¸ƒå±€è·³åŠ¨ */
    min-height: 40px;
    flex-shrink: 0;
}

body.mobile-version .nav-tab {
    padding: 6px 8px;
    font-size: 9px;
    border-width: 2px;
    border-radius: 8px;
    margin: 0;
    flex: 1;
    text-align: center;
    /* ç¡®ä¿æ–‡å­—ä¸ä¼šå¤ªé•¿ */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    min-height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* æ‰‹æœºç‰ˆä¸»å†…å®¹ */
body.mobile-version .main-content {
    padding: 8px;
    border-width: 2px;
    border-radius: 12px;
    /* å‡å°‘æœ€å°é«˜åº¦ */
    min-height: auto;
    flex: 1;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
}

body.mobile-version h2 {
    font-size: 12px;
    margin-bottom: 10px;
    letter-spacing: 1px;
}

body.mobile-version h2::before,
body.mobile-version h2::after {
    font-size: 14px;
    margin: 0 6px;
}

/* æ‰‹æœºç‰ˆå¤©æ°”é€‰æ‹©å™¨ */
body.mobile-version .weather-selector {
    padding: 8px;
    border-width: 2px;
    border-radius: 12px;
    margin-bottom: 10px;
}

body.mobile-version .weather-selector h3 {
    font-size: 11px;
    margin-bottom: 8px;
    letter-spacing: 1px;
}

body.mobile-version .weather-buttons {
    /* æ”¹ä¸º2x2ç½‘æ ¼å¸ƒå±€ */
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 6px;
}

body.mobile-version .weather-btn {
    padding: 8px 10px;
    font-size: 10px;
    border-width: 2px;
    border-radius: 10px;
    /* ç§»é™¤width: 100% */
    min-height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* æ‰‹æœºç‰ˆå¿ƒæƒ…è¾“å…¥ */
body.mobile-version .mood-input-section {
    padding: 8px;
    border-width: 2px;
    border-radius: 12px;
    margin-bottom: 8px;
}

body.mobile-version .mood-input-container {
    flex-direction: column;
    gap: 6px;
}

body.mobile-version #mood-description {
    padding: 8px;
    font-size: 11px;
    border-width: 2px;
    border-radius: 10px;
    min-height: 36px;
}

body.mobile-version #analyze-mood-btn {
    padding: 8px 14px;
    font-size: 10px;
    border-width: 2px;
    border-radius: 10px;
    width: 100%;
    min-height: 36px;
}

/* æ‰‹æœºç‰ˆåŠ¨ç‰©å¡ç‰‡ */
body.mobile-version .animals-container {
    grid-template-columns: 1fr;
    gap: 8px;
}

body.mobile-version .animal-card {
    padding: 10px;
    border-width: 2px;
    border-radius: 12px;
    /* ä½¿ç”¨flexå¸ƒå±€ï¼Œæ°´å¹³æ’åˆ— */
    display: flex;
    align-items: center;
    gap: 10px;
    text-align: left;
    min-height: 70px;
}

body.mobile-version .animal-image-container {
    width: 45px;
    height: 45px;
    margin-bottom: 0;
    flex-shrink: 0;
}

body.mobile-version .animal-info {
    flex: 1;
}

body.mobile-version .animal-info h4 {
    font-size: 12px;
    margin-bottom: 4px;
}

body.mobile-version .growth-stage,
body.mobile-version .task-count {
    font-size: 9px;
    padding: 2px 4px;
    border-width: 1px;
    border-radius: 6px;
    display: inline-block;
    margin-right: 4px;
    margin-bottom: 2px;
}

body.mobile-version .gentle-tip {
    font-size: 9px;
    padding: 4px 6px;
    border-width: 1px;
    border-radius: 8px;
    margin-top: 2px;
}

/* æ‰‹æœºç‰ˆé€šç”¨èŠå¤© */
body.mobile-version .general-chat-section {
    padding: 12px;
    border-width: 2px;
    border-radius: 12px;
    margin: 15px 0;
}

body.mobile-version .general-chat-section h3 {
    font-size: 12px;
    margin-bottom: 10px;
}

body.mobile-version .chat-input-simple {
    flex-direction: column;
    gap: 8px;
}

body.mobile-version #general-chat-input {
    padding: 10px;
    font-size: 12px;
    border-width: 2px;
    border-radius: 10px;
}

body.mobile-version #general-chat-btn {
    padding: 10px 16px;
    font-size: 11px;
    border-width: 2px;
    border-radius: 10px;
    width: 100%;
}

body.mobile-version .chat-hint {
    padding: 8px;
    border-width: 1px;
    border-radius: 8px;
}

body.mobile-version .chat-hint p {
    font-size: 10px;
}

/* æ‰‹æœºç‰ˆä»»åŠ¡æ€»è§ˆ */
body.mobile-version .tasks-overview-section {
    padding: 12px;
    border-width: 2px;
    border-radius: 12px;
    margin-bottom: 15px;
}

body.mobile-version .tasks-overview-section h3 {
    font-size: 12px;
    margin-bottom: 15px;
}

body.mobile-version .tasks-stats {
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
    margin-bottom: 15px;
}

body.mobile-version .stat-card {
    padding: 10px;
    border-width: 2px;
    border-radius: 8px;
}

body.mobile-version .stat-number {
    font-size: 20px;
    margin-bottom: 4px;
}

body.mobile-version .stat-label {
    font-size: 9px;
}

body.mobile-version .tasks-filter {
    /* æ”¹ä¸º2x2ç½‘æ ¼å¸ƒå±€ */
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 6px;
    margin-bottom: 15px;
}

body.mobile-version .filter-btn {
    padding: 8px 12px;
    font-size: 10px;
    border-width: 2px;
    border-radius: 8px;
    /* ç§»é™¤width: 100% */
}

body.mobile-version .all-tasks-list {
    max-height: 250px;
}

body.mobile-version .overview-task-item {
    padding: 10px;
    border-width: 2px;
    border-radius: 8px;
    margin-bottom: 8px;
    /* ä¿æŒæ°´å¹³å¸ƒå±€ä½†è°ƒæ•´é—´è· */
    flex-direction: row;
    align-items: center;
    gap: 10px;
}

body.mobile-version .task-animal-icon {
    font-size: 20px;
    flex-shrink: 0;
}

body.mobile-version .overview-task-content {
    flex: 1;
    min-width: 0;
}

body.mobile-version .overview-task-title {
    font-size: 11px;
    margin-bottom: 4px;
    line-height: 1.3;
}

body.mobile-version .overview-task-meta {
    font-size: 9px;
    gap: 4px;
    flex-wrap: wrap;
}

body.mobile-version .task-animal-name,
body.mobile-version .task-zone-label,
body.mobile-version .task-status-badge {
    padding: 1px 4px;
    font-size: 8px;
    border-radius: 4px;
    border-width: 1px;
}

/* æ‰‹æœºç‰ˆæˆé•¿è¿›åº¦ */
body.mobile-version .growth-progress-section {
    padding: 12px;
    border-width: 2px;
    border-radius: 12px;
}

body.mobile-version .growth-progress-section h3 {
    font-size: 12px;
    margin-bottom: 15px;
}

body.mobile-version .animal-progress {
    /* ä¿æŒæ°´å¹³å¸ƒå±€ä½†æ›´ç´§å‡‘ */
    flex-direction: row;
    align-items: center;
    padding: 10px;
    margin-bottom: 10px;
    border-width: 2px;
    gap: 8px;
}

body.mobile-version .animal-name {
    min-width: 80px;
    font-size: 10px;
    margin-bottom: 0;
    flex-shrink: 0;
}

body.mobile-version .progress-bar {
    margin: 0;
    height: 10px;
    flex: 1;
}

body.mobile-version .progress-info {
    align-items: center;
    flex-direction: column;
    justify-content: center;
    min-width: 50px;
    flex-shrink: 0;
}

body.mobile-version .progress-text {
    font-size: 10px;
    line-height: 1;
}

body.mobile-version .growth-stage {
    font-size: 8px;
    margin-top: 2px;
}

body.mobile-version .experience-info {
    position: absolute;
    bottom: 2px;
    right: 8px;
}

body.mobile-version .experience-info small {
    font-size: 7px;
}

/* æ‰‹æœºç‰ˆå›¾é‰´ */
body.mobile-version .encyclopedia-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
}

body.mobile-version .encyclopedia-card {
    padding: 12px;
    border-width: 2px;
}

body.mobile-version .encyclopedia-animal-image {
    width: 50px;
    height: 50px;
    margin-bottom: 8px;
}

body.mobile-version .encyclopedia-card h4 {
    font-size: 12px;
    margin-bottom: 6px;
}

body.mobile-version .encyclopedia-card p {
    font-size: 10px;
    line-height: 1.3;
}

body.mobile-version .view-tarot-btn {
    padding: 4px 8px;
    font-size: 8px;
    margin-top: 6px;
}

/* æ‰‹æœºç‰ˆæ¨¡æ€æ¡† */
body.mobile-version .modal-content {
    width: 95%;
    max-width: none;
    margin: 20px auto;
    padding: 20px;
    border-width: 2px;
    border-radius: 15px;
}

body.mobile-version .animal-tasks-header h3 {
    font-size: 14px;
}

body.mobile-version .dice-btn {
    padding: 12px 20px;
    font-size: 12px;
    border-width: 2px;
    border-radius: 12px;
}

body.mobile-version .dice-icon {
    font-size: 20px;
}

body.mobile-version .dice-text {
    font-size: 11px;
}

body.mobile-version .dice-hint {
    font-size: 10px;
}

body.mobile-version .task-item {
    padding: 12px;
    border-width: 2px;
    border-radius: 10px;
    margin-bottom: 10px;
}

body.mobile-version .task-title {
    font-size: 12px;
    margin-bottom: 6px;
}

body.mobile-version .task-meta {
    font-size: 10px;
    margin-bottom: 8px;
}

body.mobile-version .task-actions {
    flex-direction: column;
    gap: 6px;
}

body.mobile-version .complete-task-btn,
body.mobile-version .delete-task-btn {
    padding: 6px 12px;
    font-size: 10px;
    border-width: 1px;
    border-radius: 8px;
    width: 100%;
}

/* æ‰‹æœºç‰ˆèŠå¤©ç•Œé¢ */
body.mobile-version .chat-content {
    width: 95%;
    height: 80vh;
}

body.mobile-version .chat-header {
    padding: 12px;
    border-bottom-width: 2px;
}

body.mobile-version .chat-header h3 {
    font-size: 14px;
}

body.mobile-version .settings-btn,
body.mobile-version .close-chat-btn {
    padding: 6px 10px;
    font-size: 10px;
    border-width: 1px;
    border-radius: 8px;
}

body.mobile-version .animal-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
}

body.mobile-version .animal-select-btn {
    padding: 12px;
    font-size: 11px;
    border-width: 2px;
    border-radius: 10px;
}

body.mobile-version .animal-avatar {
    font-size: 20px;
    margin-bottom: 6px;
}

body.mobile-version .chat-messages {
    padding: 12px;
    font-size: 12px;
}

body.mobile-version .chat-input-container {
    padding: 12px;
    border-top-width: 2px;
    gap: 8px;
}

body.mobile-version #chat-input {
    padding: 10px;
    font-size: 12px;
    border-width: 2px;
    border-radius: 10px;
}

body.mobile-version #send-btn {
    padding: 10px 16px;
    font-size: 11px;
    border-width: 2px;
    border-radius: 10px;
}

body.mobile-version .chat-actions {
    padding: 10px 12px;
    gap: 8px;
}

body.mobile-version .action-btn {
    padding: 8px 12px;
    font-size: 10px;
    border-width: 1px;
    border-radius: 8px;
}

/* æ‰‹æœºç‰ˆAPIé…ç½® */
body.mobile-version .api-config-panel {
    padding: 15px;
}

body.mobile-version .config-group {
    margin-bottom: 15px;
}

body.mobile-version .config-group label {
    font-size: 11px;
    margin-bottom: 4px;
}

body.mobile-version .config-group input {
    padding: 10px;
    font-size: 12px;
    border-width: 2px;
    border-radius: 8px;
}

body.mobile-version .config-group small {
    font-size: 9px;
}

body.mobile-version .config-actions {
    flex-direction: column;
    gap: 8px;
}

body.mobile-version .test-btn,
body.mobile-version .save-btn {
    padding: 10px 16px;
    font-size: 11px;
    border-width: 2px;
    border-radius: 10px;
    width: 100%;
}

body.mobile-version .back-btn {
    padding: 8px 16px;
    font-size: 11px;
    border-width: 2px;
    border-radius: 10px;
    width: 100%;
    margin-top: 10px;
}

/* æ‰‹æœºç‰ˆæŒ‰é’® */
body.mobile-version .add-task-btn {
    width: 45px;
    height: 45px;
    font-size: 18px;
    border-width: 2px;
    border-radius: 22px;
    bottom: 70px;
    right: 12px;
}

body.mobile-version .chat-btn {
    padding: 10px 16px;
    font-size: 10px;
    border-width: 2px;
    border-radius: 10px;
    bottom: 12px;
    right: 12px;
    /* è°ƒæ•´å®½åº¦ */
    min-width: 80px;
}

/* æ‰‹æœºç‰ˆæ¶ˆæ¯æç¤º */
body.mobile-version .message-toast {
    top: 60px;
    right: 10px;
    left: 10px;
    max-width: none;
    font-size: 12px;
    padding: 10px 15px;
    border-radius: 10px;
}

/* æ‰‹æœºç‰ˆåŠ è½½æŒ‡ç¤ºå™¨ */
body.mobile-version .loading {
    padding: 20px;
}

body.mobile-version .spinner {
    width: 30px;
    height: 30px;
    border-width: 3px;
}

body.mobile-version .loading p {
    font-size: 12px;
    margin-top: 10px;
}

/* æ‰‹æœºç‰ˆå¡”ç½—ç‰Œ */
body.mobile-version .tarot-unlock-card {
    padding: 10px;
}

body.mobile-version .tarot-card {
    width: 250px;
    height: 380px;
    border-width: 4px;
    border-radius: 12px;
}

body.mobile-version .tarot-card-content {
    padding: 15px;
}

body.mobile-version .tarot-card-title {
    font-size: 14px;
    margin-bottom: 4px;
}

body.mobile-version .tarot-card-subtitle {
    font-size: 11px;
    margin-bottom: 12px;
}

body.mobile-version .tarot-animal-symbol {
    font-size: 32px;
    margin-bottom: 8px;
}

body.mobile-version .tarot-animal-name {
    font-size: 12px;
    margin-bottom: 6px;
}

body.mobile-version .tarot-animal-description {
    font-size: 10px;
    margin-bottom: 12px;
}

body.mobile-version .tarot-card-message {
    font-size: 10px;
    margin-bottom: 8px;
}

body.mobile-version .tarot-close-btn {
    padding: 8px 16px;
    font-size: 11px;
    border-width: 2px;
    border-radius: 10px;
}

/* æ‰‹æœºç‰ˆå“åº”å¼è°ƒæ•´ */
@media (max-width: 480px) {
    body.mobile-version {
        font-size: 12px;
    }
    
    body.mobile-version .version-switcher {
        top: 5px;
        right: 5px;
        padding: 4px;
        transform: scale(0.7);
    }
    
    body.mobile-version .theme-switcher {
        top: 5px;
        left: 5px;
        padding: 6px;
        transform: scale(0.7);
    }
    
    body.mobile-version .version-btn,
    body.mobile-version .theme-btn {
        font-size: 7px;
        padding: 3px 5px;
        min-width: 45px;
    }
    
    body.mobile-version #app {
        padding: 3px;
    }
    
    body.mobile-version .main-nav {
        padding: 4px;
        margin-bottom: 6px;
        min-height: 35px;
    }
    
    body.mobile-version .nav-tab {
        padding: 4px 6px;
        font-size: 8px;
        min-height: 25px;
    }
    
    body.mobile-version .main-content {
        padding: 6px;
    }
    
    body.mobile-version h2 {
        font-size: 11px;
        margin-bottom: 8px;
    }
    
    body.mobile-version .weather-selector,
    body.mobile-version .mood-input-section,
    body.mobile-version .general-chat-section {
        padding: 6px;
        margin-bottom: 6px;
    }
    
    body.mobile-version .weather-selector h3,
    body.mobile-version .general-chat-section h3 {
        font-size: 10px;
        margin-bottom: 6px;
    }
    
    body.mobile-version .weather-btn {
        padding: 6px 8px;
        font-size: 9px;
        min-height: 32px;
    }
    
    body.mobile-version .animal-card {
        padding: 8px;
        min-height: 60px;
        gap: 8px;
    }
    
    body.mobile-version .animal-image-container {
        width: 40px;
        height: 40px;
    }
    
    body.mobile-version .animal-info h4 {
        font-size: 11px;
        margin-bottom: 3px;
    }
    
    body.mobile-version .growth-stage,
    body.mobile-version .task-count {
        font-size: 8px;
        padding: 1px 3px;
    }
    
    body.mobile-version .gentle-tip {
        font-size: 8px;
        padding: 3px 5px;
    }
    
    body.mobile-version .tasks-stats {
        grid-template-columns: 1fr;
        gap: 6px;
    }
    
    body.mobile-version .stat-card {
        padding: 8px;
    }
    
    body.mobile-version .stat-number {
        font-size: 18px;
    }
    
    body.mobile-version .stat-label {
        font-size: 8px;
    }
    
    body.mobile-version .tasks-filter {
        grid-template-columns: 1fr 1fr;
        gap: 4px;
    }
    
    body.mobile-version .filter-btn {
        padding: 6px 8px;
        font-size: 9px;
    }
    
    body.mobile-version .encyclopedia-grid {
        grid-template-columns: 1fr;
    }
    
    body.mobile-version .encyclopedia-card {
        padding: 8px;
    }
    
    body.mobile-version .encyclopedia-animal-image {
        width: 40px;
        height: 40px;
    }
    
    body.mobile-version .add-task-btn {
        width: 40px;
        height: 40px;
        font-size: 16px;
        bottom: 60px;
        right: 8px;
    }
    
    body.mobile-version .chat-btn {
        padding: 8px 12px;
        font-size: 9px;
        bottom: 8px;
        right: 8px;
        min-width: 70px;
    }
}

/* æ‰‹æœºç‰ˆä¸»é¢˜é€‚é… */
body.mobile-version.theme-retro .main-nav,
body.mobile-version.theme-retro .main-content,
body.mobile-version.theme-retro .weather-selector,
body.mobile-version.theme-retro .general-chat-section,
body.mobile-version.theme-retro .tasks-overview-section,
body.mobile-version.theme-retro .growth-progress-section {
    border-radius: 0;
}

body.mobile-version.theme-animal-crossing .main-nav,
body.mobile-version.theme-animal-crossing .main-content,
body.mobile-version.theme-animal-crossing .weather-selector,
body.mobile-version.theme-animal-crossing .general-chat-section,
body.mobile-version.theme-animal-crossing .tasks-overview-section,
body.mobile-version.theme-animal-crossing .growth-progress-section {
    border-radius: 0;
}